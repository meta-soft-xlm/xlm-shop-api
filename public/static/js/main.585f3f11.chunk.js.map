{"version":3,"sources":["utils/url/index.js","components/navbar/index.js","components/carousel/index.js","constants/strings/index.js","store/looks/index.js","store/scripts/index.js","store/views/index.js","store/charges/index.js","context/index.js","routes/looks/index.js","routes/shopify/Authorize.js","App.js","utils/media/index.js","store/files/index.js","components/upload/index.js","routes/look/index.js","routes/settings/index.js","store/products/index.js","routes/embed/index.js","routes/index.js","index.js"],"names":["parseQuery","queryString","window","location","search","query","pairs","substr","split","i","length","pair","decodeURIComponent","WithSubnavigation","useDisclosure","isOpen","onToggle","bg","useColorModeValue","color","minH","py","base","px","borderBottom","borderStyle","borderColor","align","flex","md","alignItems","ml","display","onClick","history","back","justifyContent","boxSize","icon","w","h","variant","justify","cursor","in","animateOpacity","DesktopNav","linkColor","linkHoverColor","popoverContentBgColor","direction","spacing","NAV_ITEMS","map","navItem","trigger","placement","p","to","href","fontSize","fontWeight","_hover","textDecoration","label","children","border","boxShadow","rounded","minW","child","DesktopSubNav","subLabel","role","transition","_groupHover","transform","opacity","as","ChevronRightIcon","MobileNav","MobileNavItem","Link","ChevronDownIcon","style","marginTop","mt","pl","borderLeft","settings","dots","arrows","fade","infinite","autoplay","speed","autoplaySpeed","slidesToShow","slidesToScroll","CaptionCarousel","props","React","useState","slider","setSlider","top","useBreakpointValue","side","medias","position","height","width","overflow","borderWidth","shadow","margin","left","zIndex","slickPrev","size","right","slickNext","ref","media","index","backgroundPosition","backgroundRepeat","backgroundSize","backgroundImage","url","src","padding","bottom","background","INTERNAL_SERVER_ERROR","INITIAL_LOOKS_STATE","get","loading","success","ok","data","failure","error","message","post","patch","destroy","useLooksStore","create","set","looks","getLooks","a","id","shop","lookbook","produce","state","axios","process","console","code","Parse","Error","INVALID_SESSION_TOKEN","User","logOut","postLooks","name","products","patchLooks","destroyLooks","delete","INITIAL_SCRIPTS_STATE","useScriptsStore","scripts","getScripts","postScripts","destroyScripts","INITIAL_VIEWS_STATE","useViewsStore","viewsState","getViews","log","postViews","subscribed","INITIAL_CHARGES_STATE","useChargesStore","chargesState","getCharges","postCharges","returnURL","destroyCharges","chargeId","ShopContext","createContext","renderLookPoints","look","columns","IoEye","IoHandLeftSharp","IoCartSharp","IoLogoUsd","renderCarousel","orangeColorMode","marginRight","bgGradient","LooksCreatedDate","date","toLocaleString","DateTime","DATETIME_MED","renderLooks","flexDirection","marginLeft","sm","marginBottom","isLoaded","objectId","createdAt","colorScheme","isFullWidth","leftIcon","Looks","useContext","toast","useToast","onOpen","onClose","udpateSubscribedState","chargesData","activeCharge","recurringApplicationCharges","find","charge","status","useEffect","enableWidget","title","disableWidget","isLoading","isDisabled","target","renderWidgetStatusAlert","views","count","self","parent","confirmation_url","renderSubscribeButton","maxW","isCentered","textAlign","frameborder","allow","allowfullscreen","defaultProps","Authorize","storeDomain","setStoreDomain","isShopifySiteURLInvalid","setIsShopifySiteURLInvalid","isRequired","isInvalid","onChange","e","value","type","placeholder","App","shopifySessionAvailable","setShopifySessionAvailable","shopifyHmacAvailable","setShopifyHmacAvailable","shopifyCodeAvailable","setShopifyCodeAvailable","shopifyHostAvailable","setShopifyHostAvailable","isEmbed","setIsEmbed","session","hmac","embed","host","userToken","replace","document","getBase64","file","reader","FileReader","readAsDataURL","Promise","reslove","reject","onload","result","onerror","INITIAL_FILES_STATE","useFilesStore","files","getFiles","headers","Authorization","localStorage","getItem","accept","postFiles","uploads","all","upload","base64s","base64","parseFile","File","_source","_data","_ApplicationId","applicationId","_ClientVersion","_ContentType","_JavaScriptKey","javaScriptKey","fileData","metadata","tags","savedFiles","destroyFiles","Upload","on","setUploads","onDrop","useCallback","acceptedUploads","Object","assign","preview","URL","createObjectURL","useDropzone","maxFiles","multiple","getRootProps","getInputProps","isDragActive","forEach","revokeObjectURL","saveUploads","dropText","activeBg","closeOnOverlayClick","onEsc","borderRadius","objectFit","mr","loadingText","CreateLooks","isResourcePickerOpen","onResourcePickerOpen","onResourcePickerClose","useParams","useNavigate","looksName","setLooksName","setProducts","onUploadWidgetClose","onResourcePickerDone","filter","Boolean","selection","d","image","images","originalSrc","getLooskById","admin_graphql_api_id","onDestroyLook","lookId","renderProducts","product","IoClose","splice","removeProduct","SimpleGrid","lg","noOfLines","lineHeight","form","onSubmit","preventDefault","scriptsOnStore","required","_name","_url","_before","content","removeUpload","IoCloseCircleOutline","fontFamily","onSelection","onCancel","selectMultiple","showVariants","resourceType","open","initialSelectionIds","disabled","Blur","viewBox","fill","xmlns","cx","cy","r","SettingsRoute","mx","letterSpacing","INITIAL_PRODUCTS_STATE","useProductsStore","getProducts","ids","pop","ProductsModal","productIds","scrollBehavior","blockScrollOnMount","preserveScrollBarGap","lockFocusAcrossFrames","minChildWidth","pos","_after","pt","textTransform","variants","handle","rightIcon","EmbedRoute","bgColor","setProductIds","isModalvis","setIsModalvis","currentLookId","setCurrentLookId","onModalClose","onLooksClick","AppRoutes","path","element","initialize","serverURL","ReactDOM","render","StrictMode","config","apiKey","forceRedirect","Provider","getElementById"],"mappings":"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","file":"static/js/main.585f3f11.chunk.js","sourcesContent":["export const parseQuery = (queryString = window.location.search) => {\n\tvar query = {};\n\tvar pairs = (queryString[0] === '?' ? queryString.substr(1) : queryString).split('&');\n\tfor (var i = 0; i < pairs.length; i++) {\n\t\t\tvar pair = pairs[i].split('=');\n\t\t\tquery[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || '');\n\t}\n\treturn query;\n}","import {\n    Box,\n    Flex,\n    Text,\n    IconButton,\n    Button,\n    Stack,\n    Collapse,\n    Icon,\n    Popover,\n    PopoverTrigger,\n    PopoverContent,\n    useColorModeValue,\n    useBreakpointValue,\n    useDisclosure,\n  } from '@chakra-ui/react';\n  import {\n    HamburgerIcon,\n    CloseIcon,\n    ChevronDownIcon,\n    ChevronRightIcon,\n    ArrowBackIcon\n  } from '@chakra-ui/icons';\n  import { Link } from \"react-router-dom\"\n  \n  export default function WithSubnavigation() {\n    const { isOpen, onToggle } = useDisclosure();\n  \n    return (\n      <Box>\n        <Flex\n          bg={useColorModeValue('white', 'gray.800')}\n          color={useColorModeValue('gray.600', 'white')}\n          minH={'60px'}\n          py={{ base: 2 }}\n          px={{ base: 4 }}\n          borderBottom={1}\n          borderStyle={'solid'}\n          borderColor={useColorModeValue('gray.200', 'gray.900')}\n          align={'center'}>\n          <Flex\n            flex={{ base: 1, md: 'auto' }}\n            alignItems=\"center\"\n            ml={{ base: -2 }}\n            display={{ base: 'flex', md: 'none' }}>\n            <ArrowBackIcon onClick={() => window.history.back()} justifyContent=\"center\" alignItems=\"center\" boxSize={6} />\n            <IconButton\n              onClick={onToggle}\n              icon={\n                isOpen ? <CloseIcon w={3} h={3} /> : <HamburgerIcon w={5} h={5} />\n              }\n              variant={'ghost'}\n              aria-label={'Toggle Navigation'}\n            />\n          </Flex>\n          <Flex flex={{ base: 1 }} justify={{ base: 'center', md: 'start' }}>  \n          <ArrowBackIcon cursor=\"pointer\" onClick={() => window.history.back()} display={{ base: 'none', md: 'flex' }}  justifyContent=\"center\" alignItems=\"center\" boxSize={6} />\n            <Flex display={{ base: 'none', md: 'flex' }} ml={10} alignItems=\"center\">\n              <DesktopNav />\n            </Flex>\n          </Flex>\n            {/* <Link to=\"/looks/create\">\n            <Stack\n              flex={{ base: 1, md: 0 }}\n              justify={'flex-end'}\n              direction={'row'}\n              spacing={6}>\n              <Button\n                display={{ base: 'none', md: 'inline-flex' }}\n                fontSize={'sm'}\n                fontWeight={600}\n                color={'white'}\n                bg={'pink.400'}\n                href={'#'}\n                _hover={{\n                  bg: 'pink.300',\n                }}>\n                Create Look\n              </Button>\n            </Stack>\n          </Link> */}\n        </Flex>\n  \n        <Collapse in={isOpen} animateOpacity>\n          <MobileNav />\n        </Collapse>\n      </Box>\n    );\n  }\n  \n  const DesktopNav = () => {\n    const linkColor = useColorModeValue('gray.600', 'gray.200');\n    const linkHoverColor = useColorModeValue('gray.800', 'white');\n    const popoverContentBgColor = useColorModeValue('white', 'gray.800');\n  \n    return (\n      <Stack direction={'row'} spacing={4}>\n        {NAV_ITEMS.map((navItem) => (\n          <Box key={navItem.label}>\n            <Popover trigger={'hover'} placement={'bottom-start'}>\n              <PopoverTrigger>\n                <Link\n                  p={2}\n                  to={navItem.href ?? '#'}\n                  fontSize={'sm'}\n                  fontWeight={500}\n                  color={linkColor}\n                  _hover={{\n                    textDecoration: 'none',\n                    color: linkHoverColor,\n                  }}>\n                  {navItem.label}\n                </Link>\n              </PopoverTrigger>\n  \n              {navItem.children && (\n                <PopoverContent\n                  border={0}\n                  boxShadow={'xl'}\n                  bg={popoverContentBgColor}\n                  p={4}\n                  rounded={'xl'}\n                  minW={'sm'}>\n                  <Stack>\n                    {navItem.children.map((child) => (\n                      <DesktopSubNav key={child.label} {...child} />\n                    ))}\n                  </Stack>\n                </PopoverContent>\n              )}\n            </Popover>\n          </Box>\n        ))}\n      </Stack>\n    );\n  };\n  \n  const DesktopSubNav = ({ label, href, subLabel }) => {\n    return (\n      <Link\n        to={href}\n        role={'group'}\n        display={'block'}\n        p={2}\n        rounded={'md'}\n        _hover={{ bg: useColorModeValue('pink.50', 'gray.900') }}>\n        <Stack direction={'row'} align={'center'}>\n          <Box>\n            <Text\n              transition={'all .3s ease'}\n              _groupHover={{ color: 'pink.400' }}\n              fontWeight={500}>\n              {label}\n            </Text>\n            <Text fontSize={'sm'}>{subLabel}</Text>\n          </Box>\n          <Flex\n            transition={'all .3s ease'}\n            transform={'translateX(-10px)'}\n            opacity={0}\n            _groupHover={{ opacity: '100%', transform: 'translateX(0)' }}\n            justify={'flex-end'}\n            align={'center'}\n            flex={1}>\n            <Icon color={'pink.400'} w={5} h={5} as={ChevronRightIcon} />\n          </Flex>\n        </Stack>\n      </Link>\n    );\n  };\n  \n  const MobileNav = () => {\n    return (\n      <Stack\n        bg={useColorModeValue('white', 'gray.800')}\n        p={4}\n        display={{ md: 'none' }}>\n        {NAV_ITEMS.map((navItem) => (\n          <MobileNavItem key={navItem.label} {...navItem} />\n        ))}\n      </Stack>\n    );\n  };\n  \n  const MobileNavItem = ({ label, children, href }) => {\n    const { isOpen, onToggle } = useDisclosure();\n  \n    return (\n      <Stack spacing={4} onClick={children && onToggle}>\n        <Flex\n          py={2}\n          as={Link}\n          to={href ?? '#'}\n          justify={'space-between'}\n          align={'center'}\n          _hover={{\n            textDecoration: 'none',\n          }}>\n          <Text\n            fontWeight={600}\n            color={useColorModeValue('gray.600', 'gray.200')}>\n            {label}\n          </Text>\n          {children && (\n            <Icon\n              as={ChevronDownIcon}\n              transition={'all .25s ease-in-out'}\n              transform={isOpen ? 'rotate(180deg)' : ''}\n              w={6}\n              h={6}\n            />\n          )}\n        </Flex>\n  \n        <Collapse in={isOpen} animateOpacity style={{ marginTop: '0!important' }}>\n          <Stack\n            mt={2}\n            pl={4}\n            borderLeft={1}\n            borderStyle={'solid'}\n            borderColor={useColorModeValue('gray.200', 'gray.700')}\n            align={'start'}>\n            {children &&\n              children.map((child) => (\n                <Link key={child.label} py={2} to={child.href}>\n                  {child.label}\n                </Link>\n              ))}\n          </Stack>\n        </Collapse>\n      </Stack>\n    );\n  };\n\n  const NAV_ITEMS = [\n    // {\n    //   label: 'Home',\n    //   children: [\n    //     {\n    //       label: 'Explore Design Work',\n    //       subLabel: 'Trending Design to inspire you',\n    //       href: '#',\n    //     },\n    //     {\n    //       label: 'New & Noteworthy',\n    //       subLabel: 'Up-and-coming Designers',\n    //       href: '#',\n    //     },\n    //   ],\n    // },\n    // {\n    //   label: 'Find Work',\n    //   children: [\n    //     {\n    //       label: 'Job Board',\n    //       subLabel: 'Find your dream design job',\n    //       href: '#',\n    //     },\n    //     {\n    //       label: 'Freelance Projects',\n    //       subLabel: 'An exclusive list for contract work',\n    //       href: '#',\n    //     },\n    //   ],\n    // },\n    // {\n    //   label: 'Looks',\n    //   href: '/looks',\n    // },\n    {\n      label: 'Add New Look',\n      href: '/looks/create',\n    },\n  ];","import React from 'react';\nimport {\n  Box,\n  IconButton,\n  useBreakpointValue,\n  Stack,\n  Heading,\n  Text,\n  Container,\n} from '@chakra-ui/react';\n// Here we have used react-icons package for the icons\nimport { BiLeftArrowAlt, BiRightArrowAlt } from 'react-icons/bi';\n// And react-slick as our Carousel Lib\nimport Slider from 'react-slick';\n\n// Settings for the slider\nconst settings = {\n  dots: true,\n  arrows: false,\n  fade: true,\n  infinite: true,\n  autoplay: true,\n  speed: 500,\n  autoplaySpeed: 5000,\n  slidesToShow: 1,\n  slidesToScroll: 1,\n};\n\nexport default function CaptionCarousel(props) {\n  // As we have used custom buttons, we need a reference variable to\n  // change the state\n  const [slider, setSlider] = React.useState(null);\n\n  // These are the breakpoints which changes the position of the\n  // buttons as the screen size changes\n  const top = useBreakpointValue({ base: '90%', md: '50%' });\n  const side = useBreakpointValue({ base: '30%', md: '40px' });\n  \n  const { medias = [] } = props;\n  // This list contains all the data for carousels\n  // This can be static or loaded from a server\n  return (\n    <Box\n      position={'relative'}\n      height={props.height || '400px'}\n      width={props.width || '400px'}\n      overflow={'hidden'}\n      borderWidth=\"1px\"\n\t\t\trounded=\"lg\"\n\t\t\tshadow=\"lg\"\n      margin=\"0 auto\"\n    > \n      {/* Left Icon */}\n      <IconButton\n        aria-label=\"left-arrow\"\n        variant=\"ghost\"\n        position=\"absolute\"\n        left={side}\n        top={top}\n        transform={'translate(-50%, -50%)'}\n        zIndex={2}\n        onClick={() => slider?.slickPrev()}>\n        <BiLeftArrowAlt size=\"40px\" />\n      </IconButton>\n      {/* Right Icon */}\n      <IconButton\n        aria-label=\"right-arrow\"\n        variant=\"ghost\"\n        position=\"absolute\"\n        right={side}\n        top={top}\n        transform={'translate(50%, -50%)'}\n        zIndex={2}\n        onClick={() => slider?.slickNext()}>\n        <BiRightArrowAlt size=\"40px\" />\n      </IconButton>\n      {/* Slider */}\n      <Slider autoplay={false} {...settings} ref={(slider) => setSlider(slider)}>\n        {medias.map((media, index) => (\n          <Box\n            key={index}\n            // height={'6xl'}\n            position=\"relative\"\n            backgroundPosition=\"center\"\n            backgroundRepeat=\"no-repeat\"\n            backgroundSize=\"cover\"\n            backgroundImage={`url(${media.url ? media.url : media.src})`}>\n            {/* This is the block you need to change, to customize the caption */}\n            <Container padding=\"0\" size=\"container.lg\" height={props.height || '400px'} position=\"relative\">\n              <Stack\n                padding=\"0\"\n                w={'full'}\n                position=\"absolute\"\n                bottom=\"0\"\n                background=\"#00000094\"\n            >\n                {/* <Heading padding=\"1\" textAlign=\"center\" color=\"white\" fontSize={{ base: 'md', md: 'xl', lg: '2xl' }}>\n                  {card.title}\n                </Heading>\n                <Text margin=\"0\" padding=\"0\" fontSize={{ base: 'md', lg: 'lg' }} color=\"GrayText\">\n                  {card.text}\n                </Text> */}\n              </Stack>\n            </Container>\n          </Box>\n        ))}\n      </Slider>\n    </Box>\n  );\n}","export const INTERNAL_SERVER_ERROR = \"Something went wrong. Try again\"","import create from \"zustand\";\nimport axios from \"axios\";\nimport produce from \"immer\";\nimport Parse from \"parse\";\nimport { INTERNAL_SERVER_ERROR } from \"../../constants/strings\";\n\nconst INITIAL_LOOKS_STATE = {\n\tget: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: [],\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t},\n\tpost: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: null,\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t},\n\tpatch: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: null,\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t},\n\tdestroy: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: null,\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t}\n};\n\nconst useLooksStore = create((set, get) => ({\n\tlooks: INITIAL_LOOKS_STATE,\n\tgetLooks: async({ id = '', shop = window.lookbook.shop } = {}) => {\n\t\tset(produce(state => ({\n\t\t\t...state,\n\t\t\tlooks: {\n\t\t\t\t...state.looks,\n\t\t\t\tget: {\n\t\t\t\t\t...INITIAL_LOOKS_STATE.get,\n\t\t\t\t\tloading: true,\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\n\t\ttry {\n\n\t\t\t// Parse.Cloud.run('get_looks', {\n\t\t\t// \tshop, id\n\t\t\t// })\n\t\t\n\t\t\tconst { data } = await axios.get(`${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/get_looks?shop=${shop}&id=${id}`);\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tlooks: {\n\t\t\t\t\t...state.looks,\n\t\t\t\t\tget: {\n\t\t\t\t\t\t...INITIAL_LOOKS_STATE.get,\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\tok: true,\n\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})));\n\n\t\t\treturn data;\n\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t\tif (e.code ===  Parse.Error.INVALID_SESSION_TOKEN) {\n\t\t\t\tParse.User.logOut();\n\t\t\t}\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tlooks: {\n\t\t\t\t\t...state.looks,\n\t\t\t\t\tget: {\n\t\t\t\t\t\t...INITIAL_LOOKS_STATE.get,\n\t\t\t\t\t\tfailure: {\n\t\t\t\t\t\t\terror: true,\n\t\t\t\t\t\t\tmessage: e.message || INTERNAL_SERVER_ERROR,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t}\n\t},\n\tpostLooks: async ({ id, shop = window.lookbook.shop, name, medias, products = [] }) => {\n\t\tset(produce(state => ({\n\t\t\t...state,\n\t\t\tlooks: {\n\t\t\t\t...state.looks,\n\t\t\t\tpost: {\n\t\t\t\t\t...INITIAL_LOOKS_STATE.post,\n\t\t\t\t\tloading: true,\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\n\t\ttry {\n\t\t\t\n\t\t\tconst { data } = await axios.post(`${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/post_looks`, {\n\t\t\t\tshop,\n\t\t\t\tname,\n\t\t\t\tmedias,\n\t\t\t\tproducts\n\t\t\t});\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tlooks: {\n\t\t\t\t\t...state.looks,\n\t\t\t\t\tpost: {\n\t\t\t\t\t\t...INITIAL_LOOKS_STATE.post,\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\tok: true,\n\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\treturn data;\n\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tlooks: {\n\t\t\t\t\t...state.looks,\n\t\t\t\t\tpost: {\n\t\t\t\t\t\t...INITIAL_LOOKS_STATE.post,\n\t\t\t\t\t\tfailure: {\n\t\t\t\t\t\t\terror: true,\n\t\t\t\t\t\t\tmessage: e.message || INTERNAL_SERVER_ERROR\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\tthrow e;\n\t\t}\n\t},\n\tpatchLooks: async ({ id, shop = window.lookbook.shop, name, medias, products = [] }) => {\n\t\tset(produce(state => ({\n\t\t\t...state,\n\t\t\tlooks: {\n\t\t\t\t...state.looks,\n\t\t\t\tpatch: {\n\t\t\t\t\t...INITIAL_LOOKS_STATE.patch,\n\t\t\t\t\tloading: true,\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\t\ttry {\n\t\t\tconst { data } = await axios.post(`${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/post_looks`, {\n\t\t\t\tid,\n\t\t\t\tshop,\n\t\t\t\tname,\n\t\t\t\tmedias,\n\t\t\t\tproducts\n\t\t\t});\n\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tlooks: {\n\t\t\t\t\t...state.looks,\n\t\t\t\t\tpatch: {\n\t\t\t\t\t\t...INITIAL_LOOKS_STATE.patch,\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\tok: true,\n\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\treturn data;\n\n\t\t} catch (e) {\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tlooks: {\n\t\t\t\t\t...state.looks,\n\t\t\t\t\tpatch: {\n\t\t\t\t\t\t...INITIAL_LOOKS_STATE.patch,\n\t\t\t\t\t\tfailure: {\n\t\t\t\t\t\t\terror: true,\n\t\t\t\t\t\t\tmessage: e.message || INTERNAL_SERVER_ERROR\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\tthrow e;\n\t\t}\n\t},\n\tdestroyLooks: async (id) => {\n\t\tset(produce(state => ({\n\t\t\t...state,\n\t\t\tlooks: {\n\t\t\t\t...state.looks,\n\t\t\t\tdestroy: {\n\t\t\t\t\t...INITIAL_LOOKS_STATE.destroy,\n\t\t\t\t\tloading: true,\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\n\t\ttry {\n\t\t\tconst { data } = await axios.delete(`${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/destroy_looks?id=${id}`);\n\n\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tlooks: {\n\t\t\t\t\t...state.looks,\n\t\t\t\t\tdestroy: {\n\t\t\t\t\t\t...INITIAL_LOOKS_STATE.destroy,\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\tok: true,\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\treturn data;\n\n\t\t} catch (e) {\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tlooks: {\n\t\t\t\t\t...state.looks,\n\t\t\t\t\tdestroy: {\n\t\t\t\t\t\t...INITIAL_LOOKS_STATE.destroy,\n\t\t\t\t\t\tfailure: {\n\t\t\t\t\t\t\terror: true,\n\t\t\t\t\t\t\tmessage: e.message || INTERNAL_SERVER_ERROR\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\tthrow e;\n\t\t}\n\t}\n}));\n\nexport default useLooksStore;\n\t\n","import create from \"zustand\";\nimport axios from \"axios\";\nimport produce from \"immer\";\nimport Parse from \"parse\";\nimport { INTERNAL_SERVER_ERROR } from \"../../constants/strings\";\n\nconst INITIAL_SCRIPTS_STATE = {\n\tget: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: [],\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t},\n\tpost: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: null,\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t},\n\tpatch: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: null,\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t},\n\tdestroy: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: null,\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t}\n};\n\nconst useScriptsStore = create((set, get) => ({\n\tscripts: INITIAL_SCRIPTS_STATE,\n\tgetScripts: async (shop = window.lookbook.shop) => {\n\t\tset(produce(state => ({\n\t\t\t...state,\n\t\t\tscripts: {\n\t\t\t\t...state.scripts,\n\t\t\t\tget: {\n\t\t\t\t\t...INITIAL_SCRIPTS_STATE.get,\n\t\t\t\t\tloading: true,\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\t\n\t\ttry {\n\t\t\tconst { data } = await axios.get(`${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/get_scripts?shop=${shop}`);\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tscripts: {\n\t\t\t\t\t...state.scripts,\n\t\t\t\t\tget: {\n\t\t\t\t\t\t...INITIAL_SCRIPTS_STATE.get,\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\tok: true,\n\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\treturn data;\n\t\n\t\t} catch (e) {\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tscripts: {\n\t\t\t\t\t...state.scripts,\n\t\t\t\t\tget: {\n\t\t\t\t\t\t...INITIAL_SCRIPTS_STATE.get,\n\t\t\t\t\t\tfailure: {\n\t\t\t\t\t\t\terror: true,\n\t\t\t\t\t\t\tmessage: e.message || INTERNAL_SERVER_ERROR\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\tthrow e;\n\t\t}\n\t},\n\tpostScripts: async (shop = window.lookbook.shop) => {\n\t\tset(produce(state => ({\n\t\t\t...state,\n\t\t\tscripts: {\n\t\t\t\t...state.scripts,\n\t\t\t\tpost: {\n\t\t\t\t\t...INITIAL_SCRIPTS_STATE.post,\n\t\t\t\t\tloading: true,\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\n\t\ttry {\n\t\t\tconst { data } = await axios.post(`${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/post_scripts`, { shop });\n\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tscripts: {\n\t\t\t\t\t...state.scripts,\n\t\t\t\t\tpost: {\n\t\t\t\t\t\t...INITIAL_SCRIPTS_STATE.post,\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\tok: true,\n\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\treturn data;\n\n\t\t} catch (e) {\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tscripts: {\n\t\t\t\t\t...state.scripts,\n\t\t\t\t\tpost: {\n\t\t\t\t\t\t...INITIAL_SCRIPTS_STATE.post,\n\t\t\t\t\t\tfailure: {\n\t\t\t\t\t\t\terror: true,\n\t\t\t\t\t\t\tmessage: e.message || INTERNAL_SERVER_ERROR\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\tthrow e;\n\t\t}\n\t},\n\tdestroyScripts: async (shop = window.lookbook.shop) => {\n\t\tset(produce(state => ({\n\t\t\t...state,\n\t\t\tscripts: {\n\t\t\t\t...state.scripts,\n\t\t\t\tdestroy: {\n\t\t\t\t\t...INITIAL_SCRIPTS_STATE.destroy,\n\t\t\t\t\tloading: true,\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\n\t\ttry {\n\t\t\tconst { data } = await axios.delete(`${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/destroy_scripts?shop=${shop}`);\n\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tscripts: {\n\t\t\t\t\t...state.scripts,\n\t\t\t\t\tdestroy: {\n\t\t\t\t\t\t...INITIAL_SCRIPTS_STATE.destroy,\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\tok: true,\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\treturn data;\n\n\t\t} catch (e) {\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tscripts: {\n\t\t\t\t\t...state.scripts,\n\t\t\t\t\tdestroy: {\n\t\t\t\t\t\t...INITIAL_SCRIPTS_STATE.destroy,\n\t\t\t\t\t\tfailure: {\n\t\t\t\t\t\t\terror: true,\n\t\t\t\t\t\t\tmessage: e.message || INTERNAL_SERVER_ERROR\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\tthrow e;\n\t\t}\n\t}\n}));\n\nexport default useScriptsStore;\n\t\n","import create from \"zustand\";\nimport axios from \"axios\";\nimport produce from \"immer\";\nimport Parse from \"parse\";\nimport { INTERNAL_SERVER_ERROR } from \"../../constants/strings\";\n\nconst INITIAL_VIEWS_STATE = {\n  get: {\n    loading: false,\n    success: {\n      ok: false,\n      data: [],\n    },\n    failure: {\n      error: false,\n      message: \"\",\n    },\n  },\n  post: {\n    loading: false,\n    success: {\n      ok: false,\n      data: null,\n    },\n    failure: {\n      error: false,\n      message: \"\",\n    },\n  },\n};\n\nconst useViewsStore = create((set, get) => ({\n  viewsState: INITIAL_VIEWS_STATE,\n  getViews: async ({ shop = window.lookbook.shop } = {}) => {\n    console.log(\"ererereerer\");\n    set(\n      produce((state) => ({\n        ...state,\n        viewsState: {\n          ...state.viewsState,\n          get: {\n            ...INITIAL_VIEWS_STATE.get,\n            loading: true,\n          },\n        },\n      }))\n    );\n\n    try {\n      // Parse.Cloud.run('get_views', {\n      // \tshop, id\n      // })\n\n      const { data } = await axios.get(\n        `${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/get_views?shop=${shop}`\n      );\n      console.log(data);\n\n      set(\n        produce((state) => ({\n          ...state,\n          viewsState: {\n            ...state.viewsState,\n            get: {\n              ...INITIAL_VIEWS_STATE.get,\n              success: {\n                ok: true,\n                data: data,\n              },\n            },\n          },\n        }))\n      );\n\n      return data;\n    } catch (e) {\n      set(\n        produce((state) => ({\n          ...state,\n          viewsState: {\n            ...state.viewsState,\n            get: {\n              ...INITIAL_VIEWS_STATE.get,\n              failure: {\n                error: true,\n                message: e.message || INTERNAL_SERVER_ERROR,\n              },\n            },\n          },\n        }))\n      );\n    }\n  },\n  postViews: async ({ shop = window.lookbook.shop, subscribed } = {}) => {\n    set(\n      produce((state) => ({\n        ...state,\n        viewsState: {\n          ...state.viewsState,\n          post: {\n            ...INITIAL_VIEWS_STATE.post,\n            loading: true,\n          },\n        },\n      }))\n    );\n\n    try {\n      const { data } = await axios.get(\n        `${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/post_views?shop=${shop}&subscribed=${subscribed}`\n      );\n      set(\n        produce((state) => ({\n          ...state,\n          viewsState: {\n            ...state.viewsState,\n            post: {\n              ...INITIAL_VIEWS_STATE.post,\n              success: {\n                ok: true,\n                data: data,\n              },\n            },\n          },\n        }))\n      );\n\n      return data;\n    } catch (e) {\n      set(\n        produce((state) => ({\n          ...state,\n          viewsState: {\n            ...state.viewsState,\n            post: {\n              ...INITIAL_VIEWS_STATE.post,\n              failure: {\n                error: true,\n                message: e.message || INTERNAL_SERVER_ERROR,\n              },\n            },\n          },\n        }))\n      );\n    }\n  },\n}));\n\nexport default useViewsStore;\n","import create from \"zustand\";\nimport axios from \"axios\";\nimport produce from \"immer\";\nimport Parse from \"parse\";\nimport { INTERNAL_SERVER_ERROR } from \"../../constants/strings\";\n\nconst INITIAL_CHARGES_STATE = {\n  get: {\n    loading: false,\n    success: {\n      ok: false,\n      data: [],\n    },\n    failure: {\n      error: false,\n      message: \"\",\n    },\n  },\n  post: {\n    loading: false,\n    success: {\n      ok: false,\n      data: null,\n    },\n    failure: {\n      error: false,\n      message: \"\",\n    },\n  },\n  destroy: {\n    loading: false,\n    success: {\n      ok: false,\n      data: null,\n    },\n    failure: {\n      error: false,\n      message: \"\",\n    },\n  },\n};\n\nconst useChargesStore = create((set, get) => ({\n  chargesState: INITIAL_CHARGES_STATE,\n  getCharges: async ({ shop = window.lookbook.shop } = {}) => {\n    set(\n      produce((state) => ({\n        ...state,\n        chargesState: {\n          ...state.chargesState,\n          get: {\n            ...INITIAL_CHARGES_STATE.get,\n            loading: true,\n          },\n        },\n      }))\n    );\n\n    try {\n      // Parse.Cloud.run('get_views', {\n      // \tshop, id\n      // })\n\n      const { data } = await axios.get(\n        `${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/get_charges?shop=${shop}`\n      );\n      set(\n        produce((state) => ({\n          ...state,\n          chargesState: {\n            ...state.chargesState,\n            get: {\n              ...INITIAL_CHARGES_STATE.get,\n              success: {\n                ok: true,\n                data: data,\n              },\n            },\n          },\n        }))\n      );\n\n      return data;\n    } catch (e) {\n      set(\n        produce((state) => ({\n          ...state,\n          chargesState: {\n            ...state.chargesState,\n            get: {\n              ...INITIAL_CHARGES_STATE.get,\n              failure: {\n                error: true,\n                message: e.message || INTERNAL_SERVER_ERROR,\n              },\n            },\n          },\n        }))\n      );\n    }\n  },\n  postCharges: async ({ shop = window.lookbook.shop, returnURL }) => {\n    set(\n      produce((state) => ({\n        ...state,\n        chargesState: {\n          ...state.chargesState,\n          post: {\n            ...INITIAL_CHARGES_STATE.post,\n            loading: true,\n          },\n        },\n      }))\n    );\n\n    try {\n      const { data } = await axios.post(\n        `${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/post_charges`,\n        {\n          shop,\n          returnURL,\n        }\n      );\n      set(\n        produce((state) => ({\n          ...state,\n          chargesState: {\n            ...state.chargesState,\n            post: {\n              ...INITIAL_CHARGES_STATE.post,\n              success: {\n                ok: true,\n                data,\n              },\n            },\n          },\n        }))\n      );\n      return data;\n    } catch (e) {\n      set(\n        produce((state) => ({\n          ...state,\n          chargesState: {\n            ...state.chargesState,\n            post: {\n              ...INITIAL_CHARGES_STATE.post,\n              failure: {\n                error: true,\n                message: e.message || INTERNAL_SERVER_ERROR,\n              },\n            },\n          },\n        }))\n      );\n      throw e;\n    }\n  },\n  destroyCharges: async ({ shop = window.lookbook.shop, chargeId }) => {\n    set(\n      produce((state) => ({\n        ...state,\n        chargesState: {\n          ...state.chargesState,\n          destroy: {\n            ...INITIAL_CHARGES_STATE.destroy,\n            loading: true,\n          },\n        },\n      }))\n    );\n\n    try {\n      const { data } = await axios.post(\n        `${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/delete_charges`,\n        {\n          shop,\n          chargeId,\n        }\n      );\n      set(\n        produce((state) => ({\n          ...state,\n          chargesState: {\n            ...state.chargesState,\n            destroy: {\n              ...INITIAL_CHARGES_STATE.destroy,\n              success: {\n                ok: true,\n                data,\n              },\n            },\n          },\n        }))\n      );\n      return data;\n    } catch (e) {\n      set(\n        produce((state) => ({\n          ...state,\n          chargesState: {\n            ...state.chargesState,\n            destroy: {\n              ...INITIAL_CHARGES_STATE.destroy,\n              failure: {\n                error: true,\n                message: e.message || INTERNAL_SERVER_ERROR,\n              },\n            },\n          },\n        }))\n      );\n      throw e;\n    }\n  },\n}));\n\nexport default useChargesStore;\n","import React from \"react\";\nexport const ShopContext = React.createContext();\n","import { useEffect, useContext } from \"react\";\nimport {\n  Box,\n  Heading,\n  Icon,\n  Text,\n  Divider,\n  HStack,\n  Flex,\n  SimpleGrid,\n  Stack,\n  Button,\n  useColorModeValue,\n  Container,\n  VStack,\n  useToast,\n  Skeleton,\n  Alert,\n  Code,\n  ButtonGroup,\n  useDisclosure,\n  Link as ChakraLink,\n  AlertDialog,\n  AlertDialogOverlay,\n  AlertDialogContent,\n  AlertDialogBody,\n  AlertDialogHeader,\n  AlertDialogCloseButton,\n  AlertDialogFooter,\n} from \"@chakra-ui/react\";\nimport { DateTime } from \"luxon\";\nimport Carousel from \"../../components/carousel\";\nimport {\n  IoCaretForwardOutline,\n  IoHandLeftSharp,\n  IoEye,\n  IoCartSharp,\n  IoLogoUsd,\n} from \"react-icons/io5\";\nimport { Link } from \"react-router-dom\";\nimport useLooksStore from \"../../store/looks\";\nimport useScriptsStore from \"../../store/scripts\";\nimport useViewsStore from \"../../store/views\";\nimport useChargesStore from \"../../store/charges\";\nimport { ShopContext } from \"../../context\";\nimport { INTERNAL_SERVER_ERROR } from \"../../constants/strings\";\nimport { LinkIcon } from \"@chakra-ui/icons\";\n\nconst renderSkeleton = (looks) => {\n  return (\n    <Flex alignItems=\"flex-start\" flexDirection=\"row\">\n      <Skeleton>\n        <Carousel medias={[]} />\n      </Skeleton>\n      <Flex direction=\"column\" width=\"90%\" marginLeft=\"5\">\n        <Skeleton width=\"100%\" height=\"40px\"></Skeleton>\n        <br />\n        <Skeleton width=\"100%\" height=\"20px\"></Skeleton>\n        <br />\n        <Skeleton width=\"100%\" height=\"20px\"></Skeleton>\n        <br />\n        <Skeleton width=\"100%\" height=\"20px\"></Skeleton>\n      </Flex>\n    </Flex>\n  );\n};\n\nconst renderLookPoints = ({ look }) => {\n  return (\n    <SimpleGrid columns={2} spacing={5} marginTop=\"5\">\n      <HStack align={\"top\"}>\n        <Box color={\"green.400\"} px={2}>\n          <Icon as={IoEye} />\n        </Box>\n        <VStack align={\"start\"}>\n          <Text fontWeight={600}>Views</Text>\n          <Text color={\"gray.600\"} marginTop=\"0\" style={{ marginTop: 0 }}>\n            Total views\n          </Text>\n        </VStack>\n      </HStack>\n      <HStack align={\"top\"}>\n        <Box color={\"green.400\"} px={2}>\n          <Icon as={IoHandLeftSharp} />\n        </Box>\n        <VStack align={\"start\"}>\n          <Text fontWeight={600}>Clicks</Text>\n          <Text color={\"gray.600\"} marginTop=\"0\" style={{ marginTop: 0 }}>\n            Total clicks\n          </Text>\n        </VStack>\n      </HStack>\n      <HStack align={\"top\"}>\n        <Box color={\"green.400\"} px={2}>\n          <Icon as={IoCartSharp} />\n        </Box>\n        <VStack align={\"start\"}>\n          <Text fontWeight={600}>Add to cart</Text>\n          <Text color={\"gray.600\"} marginTop=\"0\" style={{ marginTop: 0 }}>\n            Cart revenue\n          </Text>\n        </VStack>\n      </HStack>\n      <HStack align={\"top\"}>\n        <Box color={\"green.400\"} px={2}>\n          <Icon as={IoLogoUsd} />\n        </Box>\n        <VStack align={\"start\"}>\n          <Text fontWeight={600}>Conversion</Text>\n          <Text color={\"gray.600\"} marginTop=\"0\" style={{ marginTop: 0 }}>\n            Total revenue\n          </Text>\n        </VStack>\n      </HStack>\n    </SimpleGrid>\n  );\n};\n\nconst renderCarousel = ({ orangeColorMode, look }) => {\n  return (\n    <Box\n      display=\"flex\"\n      flex=\"1\"\n      marginRight=\"3\"\n      position=\"relative\"\n      alignItems=\"center\"\n    >\n      <Box width={{ base: \"100%\" }} zIndex=\"2\">\n        <Carousel medias={look.medias} />\n      </Box>\n      <Box zIndex=\"1\" width=\"100%\" position=\"absolute\" height=\"100%\">\n        <Box\n          bgGradient={orangeColorMode}\n          backgroundSize=\"20px 20px\"\n          opacity=\"0.4\"\n          height=\"100%\"\n        />\n      </Box>\n    </Box>\n  );\n};\n\nexport const LooksCreatedDate = (props) => {\n  return (\n    <HStack display=\"flex\" alignItems=\"center\">\n      <Text fontWeight=\"light\" fontSize=\"sm\">\n        Created at:\n      </Text>\n      <Text fontSize=\"sm\">\n        {props.date.toLocaleString(DateTime.DATETIME_MED)}\n      </Text>\n    </HStack>\n  );\n};\n\nexport const renderLooks = ({ looks, orangeColorMode, getLooks }) => {\n  if (looks.get.loading) {\n    return renderSkeleton(looks);\n  } else if (looks.get.failure.error) {\n    return (\n      <Box>\n        <Flex direction=\"column\" align=\"center\">\n          <VStack spacing=\"3\">\n            <Heading as=\"h1\" size=\"md\">\n              {looks.get.failure.message}\n            </Heading>\n          </VStack>\n          <br />\n          <Divider />\n          <br />\n          <VStack spacing=\"3\">\n            <Button onClick={() => getLooks()}>Try Again</Button>\n          </VStack>\n        </Flex>\n      </Box>\n    );\n  } else if (looks.get.success.data.length) {\n    return looks.get.success.data.map((look) => (\n      <Box key={look.objectId}>\n        <Box\n          marginTop={{ base: \"1\", sm: \"5\" }}\n          marginBottom={{ base: \"1\", sm: \"5\" }}\n          display=\"flex\"\n          flexDirection={{ base: \"column\", sm: \"row\" }}\n          justifyContent=\"space-between\"\n          key={look.objectId}\n        >\n          {renderCarousel({ orangeColorMode, look })}\n          <Box\n            display=\"flex\"\n            flex=\"1\"\n            flexDirection=\"column\"\n            justifyContent=\"flex-start\"\n            marginTop={{ base: \"3\", sm: \"0\" }}\n          >\n            {/* <BlogTags tags={['Engineering', 'Product']} /> */}\n            <Skeleton isLoaded={!looks.get.loading}>\n              <Heading marginTop=\"1\">\n                <Link\n                  textDecoration=\"none\"\n                  _hover={{ textDecoration: \"none\" }}\n                  to={`looks/${look.objectId}`}\n                >\n                  {look.name}\n                </Link>\n              </Heading>\n              <LooksCreatedDate date={look.createdAt} />\n            </Skeleton>\n            {renderLookPoints({ look })}\n            <Stack direction=\"row\" spacing={4} marginTop=\"5\">\n              <Link to={`looks/${look.objectId}`}>\n                <Button\n                  colorScheme=\"blue\"\n                  isFullWidth\n                  leftIcon={<IoCaretForwardOutline />}\n                  variant=\"solid\"\n                >\n                  View / Modify\n                </Button>\n              </Link>\n            </Stack>\n          </Box>\n        </Box>\n        <Divider marginTop=\"1em\" marginBottom=\"1em\" />\n      </Box>\n    ));\n  } else if (!looks.get.success.data.length) {\n    return (\n      <Box>\n        <Flex direction=\"column\" align=\"center\">\n          <VStack spacing=\"3\">\n            <Heading as=\"h1\" size=\"md\">\n              You have not created any looks yet.\n            </Heading>\n          </VStack>\n          <br />\n          <Divider />\n          <br />\n          <VStack spacing=\"3\">\n            <Link to=\"/looks/create\">\n              <Button>Create Look</Button>\n            </Link>\n          </VStack>\n        </Flex>\n      </Box>\n    );\n  }\n  return null;\n};\n\nfunction Looks(props) {\n  const looks = useLooksStore((state) => state.looks);\n  const getLooks = useLooksStore((state) => state.getLooks);\n  const shop = useContext(ShopContext);\n  const scripts = useScriptsStore((state) => state.scripts);\n  const postScripts = useScriptsStore((state) => state.postScripts);\n  const getScripts = useScriptsStore((state) => state.getScripts);\n  const destroyScripts = useScriptsStore((state) => state.destroyScripts);\n  const toast = useToast();\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const orangeColorMode = useColorModeValue(\n    \"radial(orange.600 1px, transparent 1px)\",\n    \"radial(orange.300 1px, transparent 1px)\"\n  );\n  // const getViews = useViewsStore((state) => state.getViews);\n  // const viewsState = useViewsStore((state) => state.viewsState);\n\n  const getCharges = useChargesStore((state) => state.getCharges);\n  const postCharges = useChargesStore((state) => state.postCharges);\n  const chargesState = useChargesStore((state) => state.chargesState);\n  const destroyCharges = useChargesStore((state) => state.destroyCharges);\n  const postViews = useViewsStore((state) => state.postViews);\n\n  const udpateSubscribedState = async () => {\n    try {\n      const chargesData = await getCharges({ shop }); // this api  will return both charges and views\n      console.log(chargesData);\n      const activeCharge = chargesData.recurringApplicationCharges.find(\n        (charge) => charge.status === \"active\"\n      );\n      if (activeCharge) {\n        postViews({ shop, subscribed: true });\n      } else {\n        postViews({ shop, subscribed: false });\n      }\n    } catch (e) {}\n  };\n  useEffect(async () => {\n    getLooks();\n    getScripts(shop);\n    // getViews({ shop });\n    udpateSubscribedState();\n  }, []);\n\n  const renderWidgetStatusAlert = ({ looks }) => {\n    if (!looks.get.success.data.length) {\n      return null;\n    }\n\n    const enableWidget = async () => {\n      try {\n        await postScripts(shop);\n        toast({\n          title: `Widget added successfully! Please visit your online store after 30 seconds to check the widget.`,\n          status: \"success\",\n        });\n        getScripts(shop);\n      } catch (e) {\n        toast({\n          title: e.message || INTERNAL_SERVER_ERROR,\n          status: \"error\",\n        });\n      }\n    };\n\n    const disableWidget = async () => {\n      try {\n        await destroyScripts(shop);\n        toast({\n          title: `Widget removed successfully!`,\n          status: \"success\",\n        });\n        getScripts(shop);\n      } catch (e) {\n        toast({\n          title: e.message || INTERNAL_SERVER_ERROR,\n          status: \"error\",\n        });\n      }\n    };\n\n    const renderButton = () => {\n      if (scripts.get.loading) {\n        return (\n          <Button colorScheme=\"gray\" isLoading isDisabled>\n            Loading ...\n          </Button>\n        );\n      } else if (scripts.get.success.data.length) {\n        return (\n          <>\n            <ChakraLink\n              target=\"_blank\"\n              href={`http://${shop}#frangout-shop-look-app-wrapper`}\n            >\n              <Button\n                fontWeight=\"bold\"\n                size=\"md\"\n                colorScheme=\"green\"\n                variant=\"ghost\"\n                leftIcon={<LinkIcon />}\n              >\n                Preview Widget\n              </Button>\n            </ChakraLink>\n            <Button\n              isLoading={scripts.destroy.loading || scripts.get.loading}\n              fontWeight=\"bold\"\n              size=\"md\"\n              colorScheme=\"red\"\n              onClick={disableWidget}\n            >\n              Remove Widget\n            </Button>\n          </>\n        );\n      } else {\n        return (\n          <Button\n            isLoading={scripts.post.loading || scripts.get.loading}\n            fontWeight=\"bold\"\n            size=\"md\"\n            colorScheme=\"blue\"\n            onClick={enableWidget}\n          >\n            Add Widget To Your Store\n          </Button>\n        );\n      }\n    };\n\n    const renderScriptStatusText = () => {\n      if (scripts.get.loading) {\n        return null;\n      } else if (scripts.get.success.data.length) {\n        return (\n          <Flex direction=\"column\">\n            <Text>\n              \"Shop The Look\" widget <b>has been added</b> to your store page.\n              &nbsp;\n            </Text>\n            <Text\n              cursor=\"pointer\"\n              onClick={onOpen}\n              style={{ textDecoration: \"underline\" }}\n            >\n              For custom widget position instructions <b>click here.</b>\n            </Text>\n          </Flex>\n        );\n      } else {\n        return (\n          <Text>\n            \"Shop The Look\" widget is <b>not added</b> to your store page.\n          </Text>\n        );\n      }\n    };\n    return (\n      <Alert status=\"info\">\n        <Flex\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          width=\"100%\"\n          alignItems=\"center\"\n          height=\"100%\"\n        >\n          <Stack>{renderScriptStatusText()}</Stack>\n          <ButtonGroup variant=\"outline\" spacing=\"6\">\n            {renderButton()}\n          </ButtonGroup>\n        </Flex>\n      </Alert>\n    );\n  };\n\n  const renderChargesStatusAlert = () => {\n    const renderSubscribeButton = () => {\n      const activeCharge =\n        chargesState.get.success.data.recurringApplicationCharges.find(\n          (charge) => charge.status === \"active\"\n        );\n      if (activeCharge) {\n        return (\n          <Button\n            isLoading={chargesState.destroy.loading}\n            fontWeight=\"bold\"\n            size=\"md\"\n            colorScheme=\"red\"\n            onClick={async () => {\n              const data = await destroyCharges({\n                chargeId: activeCharge.id,\n              });\n              getCharges({ shop });\n              udpateSubscribedState();\n            }}\n          >\n            Cancel Paid Plan\n          </Button>\n        );\n      } else if (!activeCharge) {\n        return (\n          <Button\n            isLoading={chargesState.post.loading}\n            fontWeight=\"bold\"\n            size=\"md\"\n            colorScheme=\"blue\"\n            onClick={async () => {\n              const data = await postCharges({\n                returnURL: `https://${shop}/admin/apps/${process.env.REACT_APP_SHOPIFY_APP_NAME}`,\n              });\n              if (data) {\n                if (window.self !== window.top) {\n                  // checking if it is an iframe\n                  window.parent.location.href = data.confirmation_url;\n                } else {\n                  window.location.href = data.confirmation_url;\n                }\n              }\n            }}\n          >\n            $4.99/month for unlimited views\n          </Button>\n        );\n      }\n    };\n\n    if (chargesState.get.loading) {\n      return null;\n    } else if (chargesState.get.success.ok) {\n      return (\n        <Alert status=\"info\">\n          <Flex\n            direction=\"row\"\n            justifyContent=\"space-between\"\n            width=\"100%\"\n            alignItems=\"center\"\n            height=\"100%\"\n          >\n            <Stack>\n              <Text>\n                The Lookbook widget on your store has{\" \"}\n                <b>{chargesState.get.success.data.views.count}</b> views{\" \"}\n              </Text>\n              <Text>\n                The first 1000 views are free. Please subscribe to our flat\n                $4.99/month paid plan for unlimited views.\n              </Text>\n            </Stack>\n            <ButtonGroup variant=\"outline\" spacing=\"6\">\n              {renderSubscribeButton()}\n            </ButtonGroup>\n          </Flex>\n        </Alert>\n      );\n    } else if (chargesState.get.failure.error) {\n      return null;\n    }\n  };\n\n  return (\n    <>\n      {renderWidgetStatusAlert({ looks })}\n      <Divider />\n      {renderChargesStatusAlert()}\n      <Container maxW={\"7xl\"} p=\"12\">\n        <br />\n        {renderLooks({ looks, orangeColorMode, getLooks })}\n      </Container>\n      <AlertDialog onClose={onClose} isOpen={isOpen} isCentered size=\"3xl\">\n        <AlertDialogOverlay />\n\n        <AlertDialogContent>\n          <AlertDialogHeader>Custom Widget Position</AlertDialogHeader>\n          <AlertDialogCloseButton />\n          <AlertDialogBody textAlign=\"center\">\n            If you want the widget only on certain pages or only in certain\n            positions please add the following html tag to custom liquid or\n            custom html section.\n            <br />\n            <br />\n            <b>\n              <Code\n                size=\"xl\"\n                children={`<div id=\"frangout-shop-look-app\"> </div>`}\n              ></Code>\n            </b>\n            <br />\n            <br />\n            <iframe\n              width=\"720\"\n              height=\"405\"\n              src=\"https://www.youtube.com/embed/poWt-ssYDM8\"\n              title=\"YouTube video player\"\n              frameborder=\"0\"\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n              allowfullscreen\n            ></iframe>\n          </AlertDialogBody>\n          <AlertDialogFooter>\n            <Button onClick={onClose}>Ok</Button>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </>\n  );\n}\n\nLooks.defaultProps = {};\n\nexport default Looks;\n","import { useState } from \"react\";\nimport {\n  Box,\n  FormControl,\n  FormLabel,\n  FormErrorMessage,\n  Button,\n  Input,\n  InputLeftAddon,\n  InputGroup,\n  Divider,\n  Text,\n  Image,\n  VStack,\n  Heading,\n} from \"@chakra-ui/react\";\n// import FlagImage from \"../../assets/shopify/images/flag.svg\";\n\nexport default function Authorize() {\n  const [storeDomain, setStoreDomain] = useState(\"\");\n  const [isShopifySiteURLInvalid, setIsShopifySiteURLInvalid] = useState(false);\n\n  const onAuthorize = () => {\n    if (!storeDomain) {\n      setIsShopifySiteURLInvalid(true);\n      return false;\n    }\n    window.location.href = `${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/shopify?shop=${storeDomain}`;\n  };\n  return (\n    <Box marginTop=\"24\">\n      <VStack>\n        <Box boxSize=\"lg\">\n          <VStack spacing=\"3\">\n            {/* <Image boxSize=\"200px\" src={FlagImage}/> */}\n            <Heading as=\"h1\" size=\"md\">\n              Shopify Store Authentication\n            </Heading>\n            <Text>The access data to your Shopify site has expired.</Text>\n          </VStack>\n          <br />\n          <Divider />\n          <br />\n          <VStack spacing=\"3\">\n            <FormControl\n              id=\"shopify-site\"\n              isRequired\n              isInvalid={isShopifySiteURLInvalid}\n            >\n              <FormLabel>Shopify site sub domain</FormLabel>\n              <InputGroup>\n                <InputLeftAddon children=\"https://\" />\n                <Input\n                  onChange={(e) => setStoreDomain(e.target.value)}\n                  type=\"text\"\n                  value={storeDomain}\n                  placeholder=\"yourstore.myshopify.com\"\n                />\n              </InputGroup>\n              <FormErrorMessage>This is required</FormErrorMessage>\n            </FormControl>\n            <Button onClick={onAuthorize} isFullWidth>\n              Authorize\n            </Button>\n          </VStack>\n        </Box>\n      </VStack>\n    </Box>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport { Flex, Skeleton, Box, Container } from \"@chakra-ui/react\";\nimport { Navigate } from \"react-router-dom\";\nimport NavBar from \"./components/navbar\";\nimport LooksRoute from \"./routes/looks\";\nimport { parseQuery } from \"./utils/url\";\nimport Authorize from \"./routes/shopify/Authorize\";\nimport Parse from \"parse\";\nfunction App() {\n  const [shopifySessionAvailable, setShopifySessionAvailable] = useState(false);\n  const [shopifyHmacAvailable, setShopifyHmacAvailable] = useState(false);\n  const [shopifyCodeAvailable, setShopifyCodeAvailable] = useState(false);\n  const [shopifyHostAvailable, setShopifyHostAvailable] = useState(false);\n\n  // if ('storage' in navigator && 'estimate' in navigator.storage) {\n  //   navigator.storage.estimate().then(data => {\n  //     const {usage, quota} = data;\n  //     console.log(`Using ${usage} out of ${quota} bytes.`);\n  //     if(quota <= 1003575331){\n  //       console.log('Incognito')\n  //   } else {\n  //       try {\n  //         Parse.User.logOut();\n  //       } catch (e) {\n\n  //       }\n  //   }\n  //   })\n  // } else {\n  //     console.log('Can not detect incognito')\n  // }\n\n  const [isEmbed, setIsEmbed] = useState(false);\n  useEffect(() => {\n    const {\n      code,\n      session,\n      hmac,\n      embed,\n      host = \"\",\n      userToken,\n    } = parseQuery(window.location.search);\n    window.lookbook = parseQuery(window.location.search);\n    if (session) {\n      setShopifySessionAvailable(true);\n      setShopifyHmacAvailable(false);\n      setShopifyCodeAvailable(false);\n      setShopifyHostAvailable(false);\n    } else if (code) {\n      setShopifySessionAvailable(false);\n      setShopifyHmacAvailable(false);\n      setShopifyCodeAvailable(true);\n      setShopifyHostAvailable(false);\n      window.location.replace(\n        `${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/shopify/callback${document.location.search}`\n      );\n    } else if (hmac) {\n      setShopifySessionAvailable(false);\n      setShopifyHmacAvailable(true);\n      setShopifyCodeAvailable(false);\n      setShopifyHostAvailable(false);\n      window.location.replace(\n        `${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/shopify${document.location.search}`\n      );\n    } else if (host && !code && !hmac) {\n      setShopifyHostAvailable(true);\n      setShopifySessionAvailable(false);\n      setShopifyHmacAvailable(false);\n      setShopifyCodeAvailable(false);\n    } else if (embed) {\n      setIsEmbed(true);\n      setShopifySessionAvailable(false);\n      setShopifyHmacAvailable(false);\n      setShopifyCodeAvailable(false);\n      setShopifyHostAvailable(false);\n    }\n\n    if (userToken) {\n      // if (Parse.User.current()) {\n      //   if (Parse.User.current().get('sessionToken') !== userToken) {\n      //     Parse.User.logOut().then(() => Parse.User.become(userToken)).catch(() => Parse.User.become(userToken))\n      //   }\n      // } else {\n      //   Parse.User.become(userToken);\n      // }\n    } else {\n    }\n  }, []);\n\n  if (shopifySessionAvailable) {\n    return (\n      <>\n        <NavBar />\n        <LooksRoute />\n      </>\n    );\n  } else if (isEmbed) {\n    return <Navigate to=\"/embed\" replace />;\n  } else if (\n    shopifyHmacAvailable ||\n    shopifyCodeAvailable ||\n    shopifyHostAvailable\n  ) {\n    return (\n      <Container maxW={\"7xl\"} p=\"12\">\n        <Flex alignItems=\"flex-start\" flexDirection=\"row\">\n          <Skeleton>\n            <Box></Box>\n          </Skeleton>\n          <Flex direction=\"column\" width=\"90%\" marginLeft=\"5\">\n            <Skeleton width=\"100%\" height=\"40px\"></Skeleton>\n            <br />\n            <Skeleton width=\"100%\" height=\"20px\"></Skeleton>\n            <br />\n            <Skeleton width=\"100%\" height=\"20px\"></Skeleton>\n            <br />\n            <Skeleton width=\"100%\" height=\"20px\"></Skeleton>\n          </Flex>\n        </Flex>\n      </Container>\n    );\n  } else {\n    return <Authorize />;\n  }\n}\n\nexport default App;\n","const getBase64 = async (file) => {\n  var reader = new FileReader();\n  reader.readAsDataURL(file);\n\n  return new Promise((reslove, reject) => {\n    reader.onload = () => reslove(reader.result);\n    reader.onerror = (error) => reject(error);\n  })\n}\nexport { getBase64 };","import create from \"zustand\";\nimport axios from \"axios\";\nimport produce from \"immer\";\nimport Parse from \"parse\";\nimport { INTERNAL_SERVER_ERROR } from \"../../constants/strings\";\nimport { getBase64 } from \"../../utils/media\";\n\nconst INITIAL_FILES_STATE = {\n\tget: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: null,\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t},\n\tpost: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: null,\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t},\n\tdestroy: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: null,\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t}\n};\n\nconst useFilesStore = create((set, get) => ({\n\tfiles: INITIAL_FILES_STATE,\n\tgetFiles: async() => {\n\t\tset(produce(state => ({\n\t\t\t...state,\n\t\t\tfiles: {\n\t\t\t\t...state.files,\n\t\t\t\tget: {\n\t\t\t\t\t...INITIAL_FILES_STATE.get,\n\t\t\t\t\tloading: true,\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\n\t\ttry {\n\t\t\tconst { data } = await axios.get(``, {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${window.localStorage.getItem('thinkificAccessToken')}`,\n\t\t\t\t\taccept: 'application/json',\n\t\t\t\t}\n\t\t\t});\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tfiles: {\n\t\t\t\t\t...state.files,\n\t\t\t\t\tget: {\n\t\t\t\t\t\t...INITIAL_FILES_STATE.get,\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\tok: true,\n\t\t\t\t\t\t\tdata: [],\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\n\t\t} catch (e) {\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tfiles: {\n\t\t\t\t\t...state.files,\n\t\t\t\t\tget: {\n\t\t\t\t\t\t...INITIAL_FILES_STATE.get,\n\t\t\t\t\t\tfailure: {\n\t\t\t\t\t\t\terror: true,\n\t\t\t\t\t\t\tmessage: e.message || INTERNAL_SERVER_ERROR,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t}\n\t},\n\tpostFiles: async (uploads) => {\n\t\tset(produce(state => ({\n\t\t\t...state,\n\t\t\tfiles: {\n\t\t\t\t...state.files,\n\t\t\t\tpost: {\n\t\t\t\t\t...INITIAL_FILES_STATE.post,\n\t\t\t\t\tloading: true,\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\n\t\ttry {\n\t\t\tconst base64s = await Promise.all(uploads.map(async upload => {\n\t\t\t\treturn {\n\t\t\t\t\tdata: await getBase64(upload),\n\t\t\t\t\ttype: upload.type,\n\t\t\t\t}\n\t\t\t}));\n\t\t\tconst savedFiles = await Promise.all(base64s.map(async (base64) => {\n\t\t\t\tconst parseFile = new Parse.File(\"looks\", { base64: base64.data }, base64.type );\n\t\t\t\t// const savedFile = await parseFile.save();\n\t\t\t\tconst { data } = await axios.post(`${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/parse/files/looks`, {\n\t\t\t\t\tbase64: parseFile?._source?.base64 || parseFile._data,\n\t\t\t\t\t_ApplicationId: Parse.applicationId,\n\t\t\t\t\t_ClientVersion: \"js3.4.1\",\n\t\t\t\t\t_ContentType: parseFile?._source?.type,\n\t\t\t\t\t_JavaScriptKey: Parse.javaScriptKey,\n\t\t\t\t\tfileData: { metadata: {}, tags: {} }\n\t\t\t\t}, {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'content-type': 'text/plain'\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\treturn data;\n\t\t\t}));\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tfiles: {\n\t\t\t\t\t...state.files,\n\t\t\t\t\tpost: {\n\t\t\t\t\t\t...INITIAL_FILES_STATE.post,\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\tok: true,\n\t\t\t\t\t\t\tdata: savedFiles\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\treturn savedFiles;\n\n\t\t} catch (e) {\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tfiles: {\n\t\t\t\t\t...state.files,\n\t\t\t\t\tpost: {\n\t\t\t\t\t\t...INITIAL_FILES_STATE.post,\n\t\t\t\t\t\tfailure: {\n\t\t\t\t\t\t\terror: true,\n\t\t\t\t\t\t\tmessage: e.message || INTERNAL_SERVER_ERROR\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\tthrow e;\n\t\t}\n\t},\n\tdestroyFiles: async (id) => {\n\t\tset(produce(state => ({\n\t\t\t...state,\n\t\t\tfiles: {\n\t\t\t\t...state.files,\n\t\t\t\tdestroy: {\n\t\t\t\t\t...INITIAL_FILES_STATE.destroy,\n\t\t\t\t\tloading: true,\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\n\t\ttry {\n\t\t\tconst { data } = await axios.delete(``,{\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${window.localStorage.getItem('thinkificAccessToken')}`,\n\t\t\t\t\taccept: '*/*',\n\t\t\t\t\t'Access-Control-Allow-Origin': '*',\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tfiles: {\n\t\t\t\t\t...state.files,\n\t\t\t\t\tdestroy: {\n\t\t\t\t\t\t...INITIAL_FILES_STATE.destroy,\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\tok: true,\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\treturn data;\n\n\t\t} catch (e) {\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tfiles: {\n\t\t\t\t\t...state.files,\n\t\t\t\t\tdestroy: {\n\t\t\t\t\t\t...INITIAL_FILES_STATE.destroy,\n\t\t\t\t\t\tfailure: {\n\t\t\t\t\t\t\terror: true,\n\t\t\t\t\t\t\tmessage: e.message || INTERNAL_SERVER_ERROR\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t\tthrow e;\n\t\t}\n\t}\n}));\n\nexport default useFilesStore;\n\t\n","import { useCallback, useState, useEffect } from \"react\";\nimport {\n\tModal,\n\tModalOverlay,\n\tModalContent,\n\tModalHeader,\n\tModalFooter,\n\tModalBody,\n\tModalCloseButton,\n\tSimpleGrid,\n\tButton,\n\tCenter,\n\tuseColorModeValue,\n\tText,\n\tImage,\n\tVStack,\n\tuseToast,\n} from '@chakra-ui/react'\nimport { useDropzone } from 'react-dropzone';\nimport useFilesStore from \"../../store/files\"; \nimport { INTERNAL_SERVER_ERROR } from \"../../constants/strings\";\n\nfunction Upload(props = {}) {\n\tconst { isOpen = false, onClose, on } = props;\n\tconst files = useFilesStore((state) => state.files);\n  const postFiles = useFilesStore((state) => state.postFiles);\n\tconst toast = useToast()\n\tconst [uploads, setUploads] = useState([]);\n\t\n\tconst onDrop = useCallback(async (acceptedUploads) => {\n\t\tsetUploads(acceptedUploads.map(file => Object.assign(file, {\n\t\t\tpreview: URL.createObjectURL(file)\n\t\t})));\n\t});\n\tconst { getRootProps, getInputProps, isDragActive } = useDropzone({\n\t\tonDrop, accept: 'image/*', maxFiles: 3, multiple: true,\n\t});\n\tuseEffect(() => {\n\t\tsetUploads([])\n\t}, [])\n\tuseEffect(() => () => {\n\t\tuploads.forEach(file => URL.revokeObjectURL(file.preview));\n\t}, [uploads])\n\t\n\tconst saveUploads = async () => {\n\t\ttry {\n\t\t\tconst data = await postFiles(uploads);\n\t\t\tsetUploads([]);\n\t\t\tonClose(data || []);\n\t\t} catch (e) {\n\t\t\ttoast({\n\t\t\t\ttitle: \"Incognito mode is not allowed. \" + (e.message || INTERNAL_SERVER_ERROR),\n\t\t\t\tstatus: 'error'\n\t\t\t})\n\t\t}\n\t}\n\n\tconst dropText = isDragActive ? 'Drop upto 3 png, jpeg or gifs here ...' : 'Drag \\'n\\' drop upto 3 png, jpeg or gifs files here, or click to select uploads';\n\tconst activeBg = useColorModeValue('gray.100', 'gray.600');\n\tconst borderColor = useColorModeValue(\n\t\tisDragActive ? 'teal.300' : 'gray.300',\n\t\tisDragActive ? 'teal.500' : 'gray.500',\n\t);\n\n\treturn (\n\t\t<Modal isOpen={isOpen} onClose={onClose} closeOnOverlayClick={false} onEsc={() => setUploads([])}>\n\t\t\t<ModalOverlay />\n\t\t\t<ModalContent>\n\t\t\t\t<ModalHeader>Add images for this look.</ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t<Center\n\t\t\t\t\t\tp={10}\n\t\t\t\t\t\tcursor=\"pointer\"\n\t\t\t\t\t\tbg={isDragActive ? activeBg : 'transparent'}\n\t\t\t\t\t\t_hover={{ bg: activeBg }}\n\t\t\t\t\t\ttransition=\"background-color 0.2s ease\"\n\t\t\t\t\t\tborderRadius={4}\n\t\t\t\t\t\tborder=\"3px dashed\"\n\t\t\t\t\t\tborderColor={borderColor}\n\t\t\t\t\t\t{...getRootProps()}\n\t\t\t\t\t>\n\t\t\t\t\t<VStack>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<input {...getInputProps()} />\n\t\t\t\t\t\t<Text textAlign=\"center\">{dropText}</Text>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</VStack>\n\t\t\t\t</Center>\n\t\t\t\t<Center>\n\t\t\t\t\t<SimpleGrid spacing={5} columns={3} marginTop=\"5\">\n\t\t\t\t\t\t{uploads.map(file => (\n\t\t\t\t\t\t\t\t<Image key={file.name} src={file.preview} width={100} height={100} objectFit=\"cover\" borderRadius=\"5\" borderColor=\"gray\" borderWidth=\"2\" />\n\t\t\t\t\t\t))}\n\t\t\t\t\t</SimpleGrid>\n\t\t\t\t</Center>\n\t\t\t\t</ModalBody>\n\n\t\t\t\t<ModalFooter>\n\t\t\t\t\t<Button variant='ghost' onClick={() => { setUploads([]); onClose([])}} colorScheme='red'>Close</Button>\n\t\t\t\t\t<Button colorScheme='teal' mr={3} onClick={saveUploads} loadingText=\"Uploading...\" isLoading={files.post.loading}>\n\t\t\t\t\t\tUpload\n\t\t\t\t\t</Button>\n\t\t\t\t</ModalFooter>\n\t\t\t</ModalContent>\n\t\t</Modal>\n\t)\n}\n\nexport default Upload;","import { useEffect, useState, useContext } from \"react\";\nimport {\n\t\tBox,\n\t\tFlex,\n\t\tStack,\n\t\tHeading,\n\t\tText,\n\t\tContainer,\n\t\tInput,\n\t\tButton,\n\t\tSimpleGrid,\n\t\tuseBreakpointValue,\n\t\tFormControl,\n\t\tFormLabel,\n\t\tIcon,\n\t\tStackDivider,\n\t\tuseColorModeValue,\n\t\tImage,\n\t\tuseDisclosure,\n\t\tchakra,\n\t\ttoast,\n\t\tuseToast,\n\t\tAvatar,\n\t\tAvatarGroup,\n\t\tSkeletonText,\n\t\tSkeletonCircle,\n\t\tSkeleton,\n\t\tVStack,\n\t\tDivider,\n\t\tAvatarBadge,\n\t\tButtonGroup\n} from '@chakra-ui/react';\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport {\n\t\tIoClose,\n\t\tIoAddOutline,\n\t\tIoCloseCircleOutline,\n\t} from 'react-icons/io5';\nimport {ResourcePicker} from '@shopify/app-bridge-react';\nimport NavBar from \"../../components/navbar\";\n\nimport useFilesStore from \"../../store/files\"; \nimport useScriptsStore from \"../../store/scripts\";\n\nimport Upload from \"../../components/upload\";\nimport useLooksStore from \"../../store/looks\"\nimport { INTERNAL_SERVER_ERROR } from '../../constants/strings';\nimport { ShopContext } from \"../../context\";\n\nconst renderSkeleton = () => {\n\treturn (\n\t\t<Flex direction=\"column\" width=\"100%\">\n\t\t\t<Skeleton width=\"100%\" height=\"40px\"> </Skeleton>\n\t\t\t<SkeletonText mt='4' noOfLines={1} spacing='4' />\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<Box >\n\t\t\t\t<SkeletonCircle size='20' />\n\t\t\t\t<SkeletonText mt='4' noOfLines={4} spacing='4' />\n\t\t\t</Box>\n\t\t</Flex>\n\t)\n}\n\n\t\nfunction CreateLooks(props) {\n\tconst shop = useContext(ShopContext);\n\tconst { isOpen, onOpen, onClose } = useDisclosure()\n\tconst { isOpen: isResourcePickerOpen, onOpen: onResourcePickerOpen, onClose: onResourcePickerClose } = useDisclosure()\n\tconst looks = useLooksStore((state) => state.looks);\n\tconst files = useFilesStore((state) => state.files);\n\tconst getLooks = useLooksStore((state) => state.getLooks);\n\tconst postLooks = useLooksStore((state) => state.postLooks);\n\tconst destroyLooks = useLooksStore((state) => state.destroyLooks);\n\tconst patchLooks = useLooksStore((state) => state.patchLooks);\n\tconst scripts = useScriptsStore((state) => state.scripts);\n\tconst postScripts = useScriptsStore((state) => state.postScripts);\n\tconst getScripts = useScriptsStore((state) => state.getScripts);\n\n\tconst { id = '' } = useParams();\n\tconst toast = useToast();\n\tconst navigate = useNavigate()\n\tconst colorMode = useColorModeValue('gray.100', 'gray.700');\n\tconst [looksName, setLooksName] = useState(\n\t\tprops.looks.name\n\t);\n\tconst [uploads, setUploads] = useState(\n\t\tprops.looks.files || []\n\t);\n\tconst [products, setProducts] = useState(\n\t\tprops.looks.products || []\n\t);\n\tconst onUploadWidgetClose = (data = []) => {\n\t\tsetUploads([\n\t\t\t...uploads,\n\t\t\t...data\n\t\t])\n\t\tonClose();\n\t}\n\n\tconst onResourcePickerDone = (data = {}) => {\n\t\tsetProducts([\n\t\t\t...products.filter(Boolean),\n\t\t\t...data?.selection?.map(d => {\n\t\t\t\treturn {\n\t\t\t\t\ttitle: d.title,\n\t\t\t\t\timage: d.images[0] && d.images[0].originalSrc || '',\n\t\t\t\t\tid: d.id,\n\t\t\t\t}\n\t\t\t}).filter(Boolean),\n\t\t])\n\t\tonResourcePickerClose()\n\t}\n\n\tconst getLooskById = async () => {\n\t\tif (id) {\n\t\t\tconst data = await getLooks({ id });\n\t\t\tconsole.log(\"data is \", data)\n\t\t\tif (data) {\n\t\t\t\tsetLooksName(data?.name)\n\t\t\t\tsetUploads([\n\t\t\t\t\t...uploads,\n\t\t\t\t\t...data?.medias, \n\t\t\t\t])\n\t\t\t\t\n\t\t\t\tsetProducts([\n\t\t\t\t\t...products,\n\t\t\t\t\t...data?.products.map(p => ({\n\t\t\t\t\t\tid: p.admin_graphql_api_id,\n\t\t\t\t\t\ttitle: p.title,\n\t\t\t\t\t\timage: p.image.src\n\t\t\t\t\t}))\n\t\t\t\t])\n\t\t\t}\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tgetLooskById()\n\t}, [])\n\n\tconst removeUpload = (upload, index) => {\n\t\tuploads.splice(index, 1)\n\t\tsetUploads([...uploads.filter(Boolean)])\n\t}\n\n\tconst removeProduct = (index) => {\n\t\tproducts.splice(index, 1);\n\t\tsetProducts([...products.filter(Boolean)])\n\t}\n\n\tconst onDestroyLook = async (lookId) => {\n\t\ttry {\n\t\t\tawait destroyLooks(lookId);\n\t\t\ttoast({\n\t\t\t\ttitle: `Look deleted!`,\n\t\t\t\tstatus: 'success'\n\t\t\t});\n\t\t\twindow.history.back();\n\t\t} catch (e) {\n\t\t\ttoast({\n\t\t\t\ttitle: e.message || INTERNAL_SERVER_ERROR,\n\t\t\t\tstatus: 'error'\n\t\t\t})\n\t\t}\n\t}\n\tconst renderProducts = () => {\n\t\treturn products.map((product, index) => (\n\t\t\t<Stack id={product.id} key={index} justifyContent=\"space-between\"  direction={'row'} background=\"white\" padding=\"3\" borderRadius=\"lg\" marginBottom=\"4\" align={'center'}>\n\t\t\t\t<Flex flexDirection=\"row\" alignItems=\"center\">\n\t\t\t\t\t<Flex\n\t\t\t\t\t\tw={16}\n\t\t\t\t\t\th={16}\n\t\t\t\t\t\talign={'center'}\n\t\t\t\t\t\tjustify={'center'}\n\t\t\t\t\t\trounded={'full'}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Image objectFit=\"contain\" width=\"100%\" height=\"100%\" src={product.image} color={'yellow.500'} />\n\t\t\t\t\t</Flex>\n\t\t\t\t\t<Flex direction=\"column\">\n\t\t\t\t\t\t<Text marginLeft=\"3\" fontWeight={600}>{product.title}</Text>\n\t\t\t\t\t</Flex>\n\t\t\t\t</Flex>\n\t\t\t\t<Icon as={IoClose} color={'red.500'} w={5} h={5} onClick={() => removeProduct(index)} />\n\t\t\t</Stack>\n\t\t));\n\t}\n\tconst renderLooks = () => {\n\t\tif (looks.get.loading) {\n\t\t\treturn renderSkeleton();\n\t\t} else if (looks.get.failure.error) {\n\t\t\treturn (\n\t\t\t\t<Box>\n\t\t\t\t\t<Flex direction=\"column\" align=\"center\">\n\t\t\t\t\t\t<VStack spacing=\"3\">\n\t\t\t\t\t\t\t<Heading as=\"h1\" size=\"md\">{looks.get.failure.message}</Heading>\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<VStack spacing=\"3\">\n\t\t\t\t\t\t\t<Button onClick={() => getLooskById()}>Try Again</Button>\t\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t</Flex>\n\t\t\t\t</Box>\n\t\t\t)\n\t\t} else {\n\t\t\tconst { data } = looks?.get?.success;\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<Stack spacing={4}>\n\t\t\t\t\t\t<Heading\n\t\t\t\t\t\t\tcolor={'gray.800'}\n\t\t\t\t\t\t\tlineHeight={1.1}\n\t\t\t\t\t\t\tfontSize={{ base: '2xl', sm: '3xl', md: '4xl' }}>\n\t\t\t\t\t\t\t{data && data.name ? data.name : 'Create a look'}\n\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t<Text color={'gray.500'} fontSize={{ base: 'sm', sm: 'md' }}>\n\t\t\t\t\t\t\tAdd a name for the look you create and link the products from your store that can form this look.\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</Stack>\n\t\t\t\t\t<Box mt={10}>\n\t\t\t\t\t\t<chakra.form\n\t\t\t\t\t\t\tonSubmit={async (e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tif (id) {\n\t\t\t\t\t\t\t\t\tawait patchLooks({\n\t\t\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\t\t\tname: looksName,\n\t\t\t\t\t\t\t\t\t\t\tmedias: uploads,\n\t\t\t\t\t\t\t\t\t\t\tproducts: products.map(product => product.id),\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tawait postLooks({\n\t\t\t\t\t\t\t\t\t\t\tname: looksName,\n\t\t\t\t\t\t\t\t\t\t\tmedias: uploads,\n\t\t\t\t\t\t\t\t\t\t\tproducts: products.map(product => product.id),\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tconst scriptsOnStore = await getScripts(shop);\n\t\t\t\t\t\t\t\t\t\t\tif (scriptsOnStore && scriptsOnStore.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t// already has a script tag, do nothing.\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tawait postScripts(shop)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\twindow.history.back()\n\t\t\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\t\t\twindow.history.back()\n\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ttoast({\n\t\t\t\t\t\t\t\t\t\ttitle: `Looks ${id ? 'updated' : 'created'} successfully!`,\n\t\t\t\t\t\t\t\t\t\tstatus: 'success'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\ttoast({\n\t\t\t\t\t\t\t\t\t\ttitle: e.message || INTERNAL_SERVER_ERROR,\n\t\t\t\t\t\t\t\t\t\tstatus: 'error'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<Stack spacing={4}>\n\t\t\t\t\t\t\t<FormControl id='look-name'>\n\t\t\t\t\t\t\t\t<FormLabel>Look name</FormLabel>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\tplaceholder=\"Winter Fashion Look\"\n\t\t\t\t\t\t\t\t\tname=\"look_name\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={looksName}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setLooksName(e.target.value)}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t<FormLabel>Add medias to this look</FormLabel>\n\t\t\t\t\t\t\t\t<AvatarGroup>\n\t\t\t\t\t\t\t\t\t{uploads.map((upload, index) => (\n\t\t\t\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\t\t\t\tkey={(upload._name || upload.name) + index}\n\t\t\t\t\t\t\t\t\t\t\tname={upload._name || upload.name}\n\t\t\t\t\t\t\t\t\t\t\tsrc={upload._url || upload.url}\n\t\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\t\t// size={useBreakpointValue({ base: 'md', md: 'lg' })}\n\t\t\t\t\t\t\t\t\t\t\tposition={'relative'}\n\t\t\t\t\t\t\t\t\t\t\tzIndex={2}\n\t\t\t\t\t\t\t\t\t\t\t_before={{\n\t\t\t\t\t\t\t\t\t\t\t\tcontent: '\"\"',\n\t\t\t\t\t\t\t\t\t\t\t\twidth: 'full',\n\t\t\t\t\t\t\t\t\t\t\t\theight: 'full',\n\t\t\t\t\t\t\t\t\t\t\t\trounded: 'full',\n\t\t\t\t\t\t\t\t\t\t\t\ttransform: 'scale(1.125)',\n\t\t\t\t\t\t\t\t\t\t\t\tbgGradient: 'linear(to-bl, red.400,pink.400)',\n\t\t\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\t\t\t\tzIndex: -1,\n\t\t\t\t\t\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<AvatarBadge  boxSize='1.25em' bg='red.500' onClick={() => removeUpload(upload, index)}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon as={IoCloseCircleOutline} color={'white.500'} w={5} h={5} />\n\t\t\t\t\t\t\t\t\t\t\t</AvatarBadge>\n\t\t\t\t\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\t\tonClick={onOpen}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tbg={'pink.400'}\n\t\t\t\t\t\t\t\t\t\t_hover={{ bg: 'pink.300' }}\n\t\t\t\t\t\t\t\t\t\tcursor=\"pointer\"\n\t\t\t\t\t\t\t\t\t\ticon={<IoAddOutline size=\"2em\" color=\"white\" />}\n\t\t\t\t\t\t\t\t\t\t_before={{\n\t\t\t\t\t\t\t\t\t\t\tcontent: '\"\"',\n\t\t\t\t\t\t\t\t\t\t\twidth: 'full',\n\t\t\t\t\t\t\t\t\t\t\theight: 'full',\n\t\t\t\t\t\t\t\t\t\t\trounded: 'full',\n\t\t\t\t\t\t\t\t\t\t\ttransform: 'scale(1.2)',\n\t\t\t\t\t\t\t\t\t\t\tbgGradient: 'linear(to-bl, red.400,pink.400)',\n\t\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\t\t\tzIndex: -1,\n\t\t\t\t\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t\t\t</AvatarGroup>\n\t\t\t\t\t\t\t\t<Upload isOpen={isOpen} onClose={onUploadWidgetClose} />\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<FormControl id='look-products'>\n\t\t\t\t\t\t\t\t\t<FormLabel>Add products for this look</FormLabel>\n\t\t\t\t\t\t\t\t\t<Stack\n\t\t\t\t\t\t\t\t\t\tspacing={4}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{renderProducts()}\n\t\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t\t\t<Button fontFamily={'heading'} bg={'gray.200'} color={'gray.800'} onClick={onResourcePickerOpen}>\n\t\t\t\t\t\t\t\t\t\t\tLink products +\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<ResourcePicker\n\t\t\t\t\t\t\t\t\t\tonSelection={onResourcePickerDone}\n\t\t\t\t\t\t\t\t\t\tonCancel={onResourcePickerClose}\n\t\t\t\t\t\t\t\t\t\tselectMultiple\n\t\t\t\t\t\t\t\t\t\tshowVariants={false}\n\t\t\t\t\t\t\t\t\t\tresourceType=\"Product\"\n\t\t\t\t\t\t\t\t\t\topen={isResourcePickerOpen}\n\t\t\t\t\t\t\t\t\t\tinitialSelectionIds={products.map(product => ({ id: product.id })).filter(Boolean)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t<ButtonGroup mt={8} width=\"full\">\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdata && data.objectId ? (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tisLoading={looks.destroy.loading}\n\t\t\t\t\t\t\t\t\t\tonClick={() => onDestroyLook(data.objectId)}\n\t\t\t\t\t\t\t\t\t\tisFullWidth\n\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\tcolorScheme=\"red\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tDelete Look\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tisLoading={looks.post.loading || looks.patch.loading || scripts.get.loading || scripts.post.loading}\n\t\t\t\t\t\t\t\tdisabled={looks.post.loading || looks.patch.loading || scripts.get.loading || scripts.post.loading}\n\t\t\t\t\t\t\t\tloadingText={`${id ? 'Updating' : 'Saving'} look`}\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tfontFamily={'heading'}\n\t\t\t\t\t\t\t\tisFullWidth\n\t\t\t\t\t\t\t\tw={'full'}\n\t\t\t\t\t\t\t\tbgGradient=\"linear(to-r, red.400,pink.400)\"\n\t\t\t\t\t\t\t\tcolor={'white'}\n\t\t\t\t\t\t\t\t_hover={{\n\t\t\t\t\t\t\t\t\tbgGradient: 'linear(to-r, red.400,pink.400)',\n\t\t\t\t\t\t\t\t\tboxShadow: 'xl',\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t{`${id ? 'Update' : 'Save'} look`}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</chakra.form>\n\t\t\t\t\t</Box>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\t\treturn null;\n\t\t\n\t}\n\n\treturn (\n\t\t<>\n\t\t<NavBar />\n\t\t<Box position={'relative'}>\n\t\t\t<Container\n\t\t\t\tas={SimpleGrid}\n\t\t\t\tmaxW={'7xl'}\n\t\t\t\tcolumns={{ base: 1, md: 1 }}\n\t\t\t\tspacing={{ base: 10, lg: 32 }}\n\t\t\t\tpy={{ base: 10, sm: 15, lg: 20 }}\n\t\t\t>\n\t\t\t\t\n\t\t\t\t<Stack\n\t\t\t\t\tbg={'gray.50'}\n\t\t\t\t\trounded={'xl'}\n\t\t\t\t\tp={{ base: 4, sm: 6, md: 8 }}\n\t\t\t\t\tspacing={{ base: 8 }}\n\t\t\t\t\tmaxW=\"3xl\"\n\t\t\t\t\tzIndex=\"9\"\n\t\t\t\t\tmargin=\"0 auto\"\n\t\t\t\t\twidth=\"100%\"\n\t\t\t\t>\n\t\t\t\t\t{renderLooks()}\n\t\t\t\t</Stack>\n\t\t\t</Container>\n\t\t\t<Blur\n\t\t\t\tposition={'absolute'}\n\t\t\t\ttop={30}\n\t\t\t\tleft={-10}\n\t\t\t\tstyle={{ filter: 'blur(70px)' }}\n\t\t\t/>\n\t\t</Box>\n\t\t</>\n\t);\n}\n\t\n\texport const Blur = (props) => {\n\t\treturn (\n\t\t\t<Icon\n\t\t\t\twidth={useBreakpointValue({ base: '100%', md: '40vw', lg: '30vw' })}\n\t\t\t\tzIndex={useBreakpointValue({ base: -1, md: -1, lg: 0 })}\n\t\t\t\theight=\"560px\"\n\t\t\t\tviewBox=\"0 0 528 560\"\n\t\t\t\tfill=\"none\"\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t{...props}>\n\t\t\t\t<circle cx=\"71\" cy=\"61\" r=\"111\" fill=\"#F56565\" />\n\t\t\t\t<circle cx=\"244\" cy=\"106\" r=\"139\" fill=\"#ED64A6\" />\n\t\t\t\t<circle cy=\"291\" r=\"139\" fill=\"#ED64A6\" />\n\t\t\t\t<circle cx=\"80.5\" cy=\"189.5\" r=\"101.5\" fill=\"#ED8936\" />\n\t\t\t\t<circle cx=\"196.5\" cy=\"317.5\" r=\"101.5\" fill=\"#ECC94B\" />\n\t\t\t\t<circle cx=\"70.5\" cy=\"458.5\" r=\"101.5\" fill=\"#48BB78\" />\n\t\t\t\t<circle cx=\"426.5\" cy=\"-0.5\" r=\"101.5\" fill=\"#4299E1\" />\n\t\t\t</Icon>\n\t\t);\n\t};\n\n\n\tCreateLooks.defaultProps = {\n\t\tlooks: {\n\t\t\tname: ''\n\t\t}\n\t}\n\n\texport default CreateLooks;","import { useEffect, useContext } from \"react\";\nimport {\n  Box,\n  Heading,\n  ButtonGroup,\n  Text,\n  Button,\n  Container,\n  useToast,\n  Code,\n  Divider,\n} from \"@chakra-ui/react\";\nimport useScriptsStore from \"../../store/scripts\";\nimport { ShopContext } from \"../../context\";\nimport { INTERNAL_SERVER_ERROR } from \"../../constants/strings\";\nimport NavBar from \"../../components/navbar\";\n\nconst SettingsRoute = () => {\n  const shop = useContext(ShopContext);\n  const scripts = useScriptsStore((state) => state.scripts);\n  const postScripts = useScriptsStore((state) => state.postScripts);\n  const getScripts = useScriptsStore((state) => state.getScripts);\n  const destroyScripts = useScriptsStore((state) => state.destroyScripts);\n  const toast = useToast();\n\n  useEffect(() => {\n    getScripts(shop);\n  }, []);\n\n  const enableWidget = async () => {\n    try {\n      await postScripts(shop);\n      toast({\n        title: `Widget added successfully! Please visit your online store after 30 seconds to check the widget.`,\n        status: \"success\",\n      });\n      getScripts(shop);\n    } catch (e) {\n      toast({\n        title: e.message || INTERNAL_SERVER_ERROR,\n        status: \"error\",\n      });\n    }\n  };\n\n  const disableWidget = async () => {\n    try {\n      await destroyScripts(shop);\n      toast({\n        title: `Widget removed successfully!`,\n        status: \"success\",\n      });\n      getScripts(shop);\n    } catch (e) {\n      toast({\n        title: e.message || INTERNAL_SERVER_ERROR,\n        status: \"error\",\n      });\n    }\n  };\n\n  const renderButton = () => {\n    if (scripts.get.loading) {\n      return (\n        <Button colorScheme=\"gray\" isLoading isDisabled>\n          Loading ...\n        </Button>\n      );\n    } else if (scripts.get.success.data.length) {\n      return (\n        <Button\n          isLoading={scripts.destroy.loading || scripts.get.loading}\n          fontWeight=\"bold\"\n          size=\"lg\"\n          colorScheme=\"red\"\n          onClick={disableWidget}\n        >\n          Remove Widget From Your Store\n        </Button>\n      );\n    } else {\n      return (\n        <Button\n          isLoading={scripts.post.loading || scripts.get.loading}\n          fontWeight=\"bold\"\n          size=\"lg\"\n          colorScheme=\"blue\"\n          onClick={enableWidget}\n        >\n          Add Widget To Your Store\n        </Button>\n      );\n    }\n  };\n\n  return (\n    <>\n      <NavBar />\n      <Container maxW={\"7xl\"} p=\"12\">\n        <Box as=\"section\">\n          <Box\n            maxW=\"2xl\"\n            mx=\"auto\"\n            px={{ base: \"6\", lg: \"8\" }}\n            py={{ base: \"16\", sm: \"20\" }}\n            textAlign=\"center\"\n          >\n            <Heading size=\"3xl\" fontWeight=\"extrabold\" letterSpacing=\"tight\">\n              Widget embed settings\n            </Heading>\n            <Text mt=\"4\" fontSize=\"lg\">\n              Enable or disable \"Shop the look\" widget on your store. The widget\n              gets appended to the bottom of your store page above the footer on\n              the home page.\n            </Text>\n            <ButtonGroup mt=\"8\" variant=\"outline\" spacing=\"6\">\n              {renderButton()}\n            </ButtonGroup>\n\n            <br />\n            <br />\n            <Divider />\n            <Text mt=\"4\" fontSize=\"lg\">\n              NOTE: If you want the widget only on certain pages or only in\n              certain positions please add the following html tag to custom\n              liquid or custom html section.\n            </Text>\n\n            <br />\n            <Code children={`<div id=\"frangout-shop-look-app\"> </div>`}></Code>\n          </Box>\n        </Box>\n      </Container>\n    </>\n  );\n};\n\nexport default SettingsRoute;\n","import create from \"zustand\";\nimport produce from \"immer\";\nimport Parse from \"parse\";\nimport { INTERNAL_SERVER_ERROR } from \"../../constants/strings\";\nimport axios from \"axios\";\n\nconst INITIAL_PRODUCTS_STATE = {\n\tget: {\n\t\tloading: false,\n\t\tsuccess: {\n\t\t\tok: false,\n\t\t\tdata: [],\n\t\t},\n\t\tfailure: {\n\t\t\terror: false,\n\t\t\tmessage: \"\",\n\t\t}\n\t},\n};\n\nconst useProductsStore = create((set, get) => ({\n\tproducts: INITIAL_PRODUCTS_STATE,\n\tgetProducts: async({ products = [], shop } = {}) => {\n\t\tset(produce(state => ({\n\t\t\t...state,\n\t\t\tproducts: {\n\t\t\t\t...state.products,\n\t\t\t\tget: {\n\t\t\t\t\t...INITIAL_PRODUCTS_STATE.get,\n\t\t\t\t\tloading: true,\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\n\t\ttry {\n\t\t\tconst ids = products.map(p => {\n\t\t\t\tif (typeof p === \"string\") {\n\t\t\t\t\treturn p.split('/')?.pop()\n\t\t\t\t}\n\t\t\t\treturn undefined\n\t\t\t}).filter(Boolean);\n\n\t\t\tconst { data } = await axios.get(\n\t\t\t\t`${process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL}/api/get_products?shop=${shop}&ids=${ids}`\n\t\t\t);\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tproducts: {\n\t\t\t\t\t...state.products,\n\t\t\t\t\tget: {\n\t\t\t\t\t\t...INITIAL_PRODUCTS_STATE.get,\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\tok: true,\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})));\n\n\t\t\treturn data;\n\n\t\t} catch (e) {\n\t\t\tset(produce(state => ({\n\t\t\t\t...state,\n\t\t\t\tproducts: {\n\t\t\t\t\t...state.products,\n\t\t\t\t\tget: {\n\t\t\t\t\t\t...INITIAL_PRODUCTS_STATE.get,\n\t\t\t\t\t\tfailure: {\n\t\t\t\t\t\t\terror: true,\n\t\t\t\t\t\t\tmessage: e.message || INTERNAL_SERVER_ERROR,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})))\n\t\t}\n\t},\n}));\n\nexport default useProductsStore;\n\t\n","import { useEffect, useState, useContext } from \"react\";\nimport {\n  Container,\n  Box,\n  Center,\n  useColorModeValue,\n  Heading,\n  Text,\n  Stack,\n  Link,\n  Button,\n  Flex,\n  SimpleGrid,\n  VStack,\n  Divider,\n  Skeleton,\n  useDisclosure,\n  Modal,\n  ModalBody,\n  ModalCloseButton,\n  ModalContent,\n  ModalFooter,\n  ModalOverlay,\n  ModalHeader,\n  useBreakpointValue,\n} from \"@chakra-ui/react\";\nimport Carousel from \"../../components/carousel\";\nimport useLooksStore from \"../../store/looks\";\nimport useProductsStore from \"../../store/products\";\nimport useViewsStore from \"../../store/views\";\nimport { ExternalLinkIcon } from \"@chakra-ui/icons\";\nimport { ShopContext } from \"../../context\";\nimport \"../../embed.css\";\n\nconst ProductsModal = (props) => {\n  const { isOpen, onClose, productIds = [], lookId } = props;\n  const products = useProductsStore((state) => state.products);\n  const getProducts = useProductsStore((state) => state.getProducts);\n  const shop = useContext(ShopContext);\n\n  useEffect(() => {\n    getProducts({ products: productIds, shop });\n  }, []);\n\n  const renderProducts = () => {\n    if (products.get.loading) {\n      return (\n        <SimpleGrid minChildWidth=\"330px\" spacing=\"10px\">\n          {[1, 2, 3].map((e, i) => (\n            <Center p={4} key={i}>\n              <Skeleton width=\"330px\" height=\"330px\" />\n            </Center>\n          ))}\n        </SimpleGrid>\n      );\n    } else if (products.get.failure.error) {\n      return (\n        <Box>\n          <Flex direction=\"column\" align=\"center\">\n            <VStack spacing=\"3\">\n              <Heading as=\"h1\" size=\"md\">\n                {products.get.failure.message}\n              </Heading>\n            </VStack>\n            <br />\n            <Divider />\n            <br />\n            <VStack spacing=\"3\">\n              <Button\n                onClick={() => getProducts({ products: productIds, shop })}\n              >\n                Try Again\n              </Button>\n            </VStack>\n          </Flex>\n        </Box>\n      );\n    } else if (products.get.success.data.length) {\n      return (\n        <SimpleGrid minChildWidth=\"330px\" spacing=\"10px\">\n          {products.get.success.data.map((product) => (\n            <Center py={8} key={product.admin_graphql_api_id || product.id}>\n              <Box\n                role={\"group\"}\n                p={4}\n                maxW={\"330px\"}\n                w={\"full\"}\n                boxShadow={\"2xl\"}\n                rounded={\"lg\"}\n                pos={\"relative\"}\n                zIndex={1}\n              >\n                <Box\n                  rounded={\"lg\"}\n                  mt={-12}\n                  pos={\"relative\"}\n                  height={\"260px\"}\n                  _groupHover={{\n                    _after: {\n                      filter: \"blur(20px)\",\n                    },\n                  }}\n                >\n                  <Carousel medias={product.images} height={260} width={282} />\n                </Box>\n                <Stack pt={3} align={\"center\"}>\n                  <Text\n                    color={\"gray.500\"}\n                    fontSize={\"sm\"}\n                    textTransform={\"uppercase\"}\n                  >\n                    {product.variants && product.variants.length\n                      ? `${product.variants.length} variants available`\n                      : null}\n                  </Text>\n                  <Heading\n                    textAlign=\"center\"\n                    fontSize={\"2xl\"}\n                    fontFamily={\"body\"}\n                    fontWeight={500}\n                  >\n                    {product.title}\n                  </Heading>\n                  <Link\n                    marginTop={\"10px\"}\n                    href={`http://${shop}/products/${product.handle}?app=shoplook&lookid=${lookId}`}\n                    target=\"_blank\"\n                    width=\"full\"\n                  >\n                    <Button isFullWidth rightIcon={<ExternalLinkIcon />}>\n                      View Product\n                    </Button>\n                  </Link>\n                </Stack>\n              </Box>\n            </Center>\n          ))}\n        </SimpleGrid>\n      );\n    } else {\n      return null;\n    }\n  };\n  return (\n    <>\n      <Modal\n        isCentered\n        scrollBehavior={\"inside\"}\n        closeOnOverlayClick\n        blockScrollOnMount={false}\n        preserveScrollBarGap\n        lockFocusAcrossFrames={false}\n        isOpen={isOpen}\n        onClose={onClose}\n        size=\"xl\"\n      >\n        <ModalOverlay />\n        <ModalContent>\n          <ModalHeader>Shop the products in this look</ModalHeader>\n          <ModalCloseButton />\n          <ModalBody>{renderProducts()}</ModalBody>\n\n          <ModalFooter>\n            <Button colorScheme=\"blue\" mr={3} onClick={onClose}>\n              Close\n            </Button>\n          </ModalFooter>\n        </ModalContent>\n      </Modal>\n    </>\n  );\n};\n\nconst EmbedRoute = (props) => {\n  const bgColor = useColorModeValue(\"white\", \"gray.800\");\n  const looks = useLooksStore((state) => state.looks);\n  const getLooks = useLooksStore((state) => state.getLooks);\n  const shop = useContext(ShopContext);\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const [productIds, setProductIds] = useState([]);\n  const [isModalvis, setIsModalvis] = useState(false);\n  const [currentLookId, setCurrentLookId] = useState(\"\");\n  const getViews = useViewsStore((state) => state.getViews);\n  const viewsState = useViewsStore((state) => state.viewsState);\n\n  useEffect(() => {\n    getViews({ shop });\n    getLooks({ shop });\n  }, []);\n\n  const onLooksClick = ({ lookId, products }) => {\n    setProductIds(products);\n    setCurrentLookId(lookId);\n    setIsModalvis(true);\n    onOpen();\n  };\n\n  const onModalClose = () => {\n    setCurrentLookId(\"\");\n    setProductIds([]);\n    setIsModalvis(false);\n    onClose();\n  };\n\n  const renderList = () => {\n    if (looks.get.loading) {\n      return [1, 2, 3].map((e, i) => (\n        <Center key={i}>\n          <Skeleton width=\"330px\" height=\"330px\" />\n        </Center>\n      ));\n    } else if (looks.get.failure.error) {\n      return (\n        <Box>\n          <Flex direction=\"column\" align=\"center\">\n            <VStack spacing=\"3\">\n              <Heading as=\"h1\" size=\"md\">\n                {looks.get.failure.message}\n              </Heading>\n            </VStack>\n            <br />\n            <Divider />\n            <br />\n            <VStack spacing=\"3\">\n              <Button onClick={() => getLooks({ shop })}>Try Again</Button>\n            </VStack>\n          </Flex>\n        </Box>\n      );\n    } else if (looks.get.success.data.length) {\n      return (\n        <>\n          {isModalvis ? (\n            <ProductsModal\n              isOpen={isOpen}\n              onClose={onModalClose}\n              lookId={currentLookId}\n              productIds={productIds}\n            />\n          ) : null}\n          {looks.get.success.data.map((look) => (\n            <Center py={8} key={look.id || look.objectId}>\n              <Box\n                role={\"group\"}\n                p={4}\n                maxW={\"330px\"}\n                w={\"full\"}\n                bg={bgColor}\n                boxShadow={\"2xl\"}\n                rounded={\"lg\"}\n                pos={\"relative\"}\n                zIndex={1}\n              >\n                <Box\n                  rounded={\"lg\"}\n                  mt={-12}\n                  pos={\"relative\"}\n                  height={\"260px\"}\n                  // _after={{\n                  // \ttransition: 'all .3s ease',\n                  // \tcontent: '\"\"',\n                  // \tw: 'full',\n                  // \th: 'full',\n                  // \tpos: 'absolute',\n                  // \ttop: 5,\n                  // \tleft: 0,\n                  // \tbackgroundImage: `url(${look.get('medias')[0].url()})`,\n                  // \tfilter: 'blur(15px)',\n                  // \tzIndex: -1,\n                  // }}\n                  _groupHover={{\n                    _after: {\n                      filter: \"blur(20px)\",\n                    },\n                  }}\n                >\n                  {/* <Image\n\t\t\t\t\t\t\t\t\t\t\trounded={'lg'}\n\t\t\t\t\t\t\t\t\t\t\theight={230}\n\t\t\t\t\t\t\t\t\t\t\twidth={282}\n\t\t\t\t\t\t\t\t\t\t\tobjectFit={'cover'}\n\t\t\t\t\t\t\t\t\t\t\tsrc={'https://images.unsplash.com/photo-1518051870910-a46e30d9db16?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1350&q=80'}\n\t\t\t\t\t\t\t\t\t\t/> */}\n                  <Carousel medias={look.medias} height={260} width={282} />\n                </Box>\n                <Stack pt={3} align={\"center\"}>\n                  <Text\n                    color={\"gray.500\"}\n                    fontSize={\"sm\"}\n                    textTransform={\"uppercase\"}\n                  >\n                    {look.products.length} products in this look\n                  </Text>\n                  <Heading\n                    fontSize={\"2xl\"}\n                    fontFamily={\"body\"}\n                    fontWeight={500}\n                  >\n                    {look.name}\n                  </Heading>\n                  <Button\n                    marginTop={\"10px\"}\n                    onClick={() =>\n                      onLooksClick({\n                        lookId: look.id || look.objectId,\n                        products: look.products,\n                      })\n                    }\n                    isFullWidth\n                  >\n                    Shop The Look\n                  </Button>\n                </Stack>\n              </Box>\n            </Center>\n          ))}\n        </>\n      );\n    }\n  };\n\n  return (\n    <Container maxW={\"7xl\"} p=\"12\">\n      <Center>\n        <Heading>Shop The Look</Heading>\n      </Center>\n      <br />\n      <SimpleGrid minChildWidth=\"330px\" spacing=\"10px\">\n        {renderList()}\n      </SimpleGrid>\n    </Container>\n  );\n};\n\nexport default EmbedRoute;\n","import React, { useEffect } from 'react';\nimport {\n  Routes,\n  Route,\n  Navigate,\n} from \"react-router-dom\";\nimport App from '../App';\nimport LookRoute from \"./look\";\nimport Authorize from \"./shopify/Authorize\";\nimport SettingsRoute from \"./settings\";\nimport EmbedRoute from './embed';\n// You should always import these components even without using else app back navigation will break\nimport { ClientRouter, useClientRouting, useRoutePropagation, RoutePropagator } from '@shopify/app-bridge-react';\nconst AppRoutes = (props) => {\n\n\n\treturn (\n\t\t<>\n\t\t<Routes>\n\t\t\t{/* <Route path=\"/shopify\" element={<Authorize />} />\n\t\t\t<Route path=\"/shopify/callback\" element={<Authorize />} />\n\t\t\t<Route\n\t\t\t\t\tpath=\"/install\"\n\t\t\t\t\telement={<Navigate to={{\n\t\t\t\t\t\tpathname: \"/shopify/authorize\",\n\t\t\t\t\t\tsearch: window.location.search,\n\t\t\t\t\t}} replace={true} />}\n\t\t\t\t/>\n\t\t\t<Route path=\"/shopify/authorize\" element={<Authorize />} /> */}\n\t\t\t<Route path=\"/embed\" element={<EmbedRoute />} />\n\t\t\t<Route path=\"/settings\" element={<SettingsRoute />} />\n\t\t\t<Route path=\"/looks\" element={<App />} />\n\t\t\t<Route path=\"/looks/:id\" element={<LookRoute />} />\n\t\t\t<Route path=\"/looks/create\" element={<LookRoute />} />\n\t\t\t<Route path=\"/shopify\" element={<App />} />\n\t\t\t<Route path=\"/shopify/callback\" element={<App />} />\n\t\t\t<Route path=\"/authorize\" element={<Authorize />} />\n\t\t\t<Route path=\"/\" element={<App />} />\n\t\t</Routes>\n\t\t</>\n\t)\n}\n\nexport default AppRoutes","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { ChakraProvider } from \"@chakra-ui/react\"\nimport {\n  BrowserRouter,\n} from \"react-router-dom\";\nimport Parse from \"parse\";\nimport './index.css';\nimport {Provider} from '@shopify/app-bridge-react';\nimport { parseQuery } from \"./utils/url\";\nimport AppRoutes from \"./routes\"\nimport { ShopContext } from \"./context\";\n\nParse.initialize(process.env.REACT_APP_API_SHOPLOOKS_PARSE_APP_ID, process.env.REACT_APP_API_SHOPLOOKS_PARSE_JSKEY);\nParse.serverURL = process.env.REACT_APP_API_SHOPLOOKS_SERVER_URL + '/parse';\n\nconst { host, shop = '' } = parseQuery(window.location.search);\nif (!host) {\n  ReactDOM.render(\n    <React.StrictMode>\n        <ChakraProvider>\n          <BrowserRouter>\n            <ShopContext.Provider value={shop}>\n              <AppRoutes />\n            </ShopContext.Provider>\n          </BrowserRouter>\n        </ChakraProvider>\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n  \n} else {\n  ReactDOM.render(\n    <React.StrictMode>\n        <ChakraProvider>\n          <BrowserRouter>\n            <Provider config={{ apiKey: process.env.REACT_APP_SHOPIFY_API_KEY, host: host,  forceRedirect: true }}>\n              <ShopContext.Provider value={shop}>\n                <AppRoutes />\n              </ShopContext.Provider>\n            </Provider>\n          </BrowserRouter>\n        </ChakraProvider>\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n}\n"],"sourceRoot":""}