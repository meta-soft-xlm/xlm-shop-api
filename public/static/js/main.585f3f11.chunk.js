(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{671:function(e,t){},724:function(e,t,c){},819:function(e,t,c){},820:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c.n(r),a=c(82),s=c.n(a),o=c(63),i=c(56),l=c(55),j=c.n(l),b=(c(724),c(172)),u=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.search,t={},c=("?"===e[0]?e.substr(1):e).split("&"),r=0;r<c.length;r++){var n=c[r].split("=");t[decodeURIComponent(n[0])]=decodeURIComponent(n[1]||"")}return t},d=c(15),O=c(26),p=c(325),h=c(337),g=c(4),f=c(25),x=c(171),m=c(327),v=c(113),k=c(357),w=c(8),y=c(74),S=c(2);function C(){var e=Object(f.c)(),t=e.isOpen,c=e.onToggle;return Object(S.jsxs)(p.a,{children:[Object(S.jsxs)(p.f,{bg:Object(x.d)("white","gray.800"),color:Object(x.d)("gray.600","white"),minH:"60px",py:{base:2},px:{base:4},borderBottom:1,borderStyle:"solid",borderColor:Object(x.d)("gray.200","gray.900"),align:"center",children:[Object(S.jsxs)(p.f,{flex:{base:1,md:"auto"},alignItems:"center",ml:{base:-2},display:{base:"flex",md:"none"},children:[Object(S.jsx)(y.a,{onClick:function(){return window.history.back()},justifyContent:"center",alignItems:"center",boxSize:6}),Object(S.jsx)(m.c,{onClick:c,icon:t?Object(S.jsx)(y.d,{w:3,h:3}):Object(S.jsx)(y.f,{w:5,h:5}),variant:"ghost","aria-label":"Toggle Navigation"})]}),Object(S.jsxs)(p.f,{flex:{base:1},justify:{base:"center",md:"start"},children:[Object(S.jsx)(y.a,{cursor:"pointer",onClick:function(){return window.history.back()},display:{base:"none",md:"flex"},justifyContent:"center",alignItems:"center",boxSize:6}),Object(S.jsx)(p.f,{display:{base:"none",md:"flex"},ml:10,alignItems:"center",children:Object(S.jsx)(I,{})})]})]}),Object(S.jsx)(v.a,{in:t,animateOpacity:!0,children:Object(S.jsx)(T,{})})]})}var I=function(){var e=Object(x.d)("gray.600","gray.200"),t=Object(x.d)("gray.800","white"),c=Object(x.d)("white","gray.800");return Object(S.jsx)(p.k,{direction:"row",spacing:4,children:W.map((function(r){var n;return Object(S.jsx)(p.a,{children:Object(S.jsxs)(k.a,{trigger:"hover",placement:"bottom-start",children:[Object(S.jsx)(k.c,{children:Object(S.jsx)(i.b,{p:2,to:null!==(n=r.href)&&void 0!==n?n:"#",fontSize:"sm",fontWeight:500,color:e,_hover:{textDecoration:"none",color:t},children:r.label})}),r.children&&Object(S.jsx)(k.b,{border:0,boxShadow:"xl",bg:c,p:4,rounded:"xl",minW:"sm",children:Object(S.jsx)(p.k,{children:r.children.map((function(e){return Object(S.jsx)(z,Object(g.a)({},e),e.label)}))})})]})},r.label)}))})},z=function(e){var t=e.label,c=e.href,r=e.subLabel;return Object(S.jsx)(i.b,{to:c,role:"group",display:"block",p:2,rounded:"md",_hover:{bg:Object(x.d)("pink.50","gray.900")},children:Object(S.jsxs)(p.k,{direction:"row",align:"center",children:[Object(S.jsxs)(p.a,{children:[Object(S.jsx)(p.l,{transition:"all .3s ease",_groupHover:{color:"pink.400"},fontWeight:500,children:t}),Object(S.jsx)(p.l,{fontSize:"sm",children:r})]}),Object(S.jsx)(p.f,{transition:"all .3s ease",transform:"translateX(-10px)",opacity:0,_groupHover:{opacity:"100%",transform:"translateX(0)"},justify:"flex-end",align:"center",flex:1,children:Object(S.jsx)(w.a,{color:"pink.400",w:5,h:5,as:y.c})})]})})},T=function(){return Object(S.jsx)(p.k,{bg:Object(x.d)("white","gray.800"),p:4,display:{md:"none"},children:W.map((function(e){return Object(S.jsx)(L,Object(g.a)({},e),e.label)}))})},L=function(e){var t=e.label,c=e.children,r=e.href,n=Object(f.c)(),a=n.isOpen,s=n.onToggle;return Object(S.jsxs)(p.k,{spacing:4,onClick:c&&s,children:[Object(S.jsxs)(p.f,{py:2,as:i.b,to:null!==r&&void 0!==r?r:"#",justify:"space-between",align:"center",_hover:{textDecoration:"none"},children:[Object(S.jsx)(p.l,{fontWeight:600,color:Object(x.d)("gray.600","gray.200"),children:t}),c&&Object(S.jsx)(w.a,{as:y.b,transition:"all .25s ease-in-out",transform:a?"rotate(180deg)":"",w:6,h:6})]}),Object(S.jsx)(v.a,{in:a,animateOpacity:!0,style:{marginTop:"0!important"},children:Object(S.jsx)(p.k,{mt:2,pl:4,borderLeft:1,borderStyle:"solid",borderColor:Object(x.d)("gray.200","gray.700"),align:"start",children:c&&c.map((function(e){return Object(S.jsx)(i.b,{py:2,to:e.href,children:e.label},e.label)}))})})]})},W=[{label:"Add New Look",href:"/looks/create"}],_=c(14),A=c(7),F=c.n(A),D=c(356),E=c(126),P=c(355),R=c(360),B=c(207),U=c(249),M=c(359),V=c.n(M),q={dots:!0,arrows:!1,fade:!0,infinite:!0,autoplay:!0,speed:500,autoplaySpeed:5e3,slidesToShow:1,slidesToScroll:1};function N(e){var t=n.a.useState(null),c=Object(O.a)(t,2),r=c[0],a=c[1],s=Object(B.a)({base:"90%",md:"50%"}),o=Object(B.a)({base:"30%",md:"40px"}),i=e.medias,l=void 0===i?[]:i;return Object(S.jsxs)(p.a,{position:"relative",height:e.height||"400px",width:e.width||"400px",overflow:"hidden",borderWidth:"1px",rounded:"lg",shadow:"lg",margin:"0 auto",children:[Object(S.jsx)(m.c,{"aria-label":"left-arrow",variant:"ghost",position:"absolute",left:o,top:s,transform:"translate(-50%, -50%)",zIndex:2,onClick:function(){return null===r||void 0===r?void 0:r.slickPrev()},children:Object(S.jsx)(U.a,{size:"40px"})}),Object(S.jsx)(m.c,{"aria-label":"right-arrow",variant:"ghost",position:"absolute",right:o,top:s,transform:"translate(50%, -50%)",zIndex:2,onClick:function(){return null===r||void 0===r?void 0:r.slickNext()},children:Object(S.jsx)(U.b,{size:"40px"})}),Object(S.jsx)(V.a,Object(g.a)(Object(g.a)({autoplay:!1},q),{},{ref:function(e){return a(e)},children:l.map((function(t,c){return Object(S.jsx)(p.a,{position:"relative",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundImage:"url(".concat(t.url?t.url:t.src,")"),children:Object(S.jsx)(p.d,{padding:"0",size:"container.lg",height:e.height||"400px",position:"relative",children:Object(S.jsx)(p.k,{padding:"0",w:"full",position:"absolute",bottom:"0",background:"#00000094"})})},c)}))}))]})}var G=c(84),H=c(64),Y=c.n(H),K=c(36),J=c.n(K),X=c(11),$="Something went wrong. Try again",Q={get:{loading:!1,success:{ok:!1,data:[]},failure:{error:!1,message:""}},post:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}},patch:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}},destroy:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}}},Z=Y()((function(e,t){return{looks:Q,getLooks:function(){var t=Object(_.a)(F.a.mark((function t(){var c,r,n,a,s,o,i,l=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=l.length>0&&void 0!==l[0]?l[0]:{},r=c.id,n=void 0===r?"":r,a=c.shop,s=void 0===a?window.lookbook.shop:a,e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{looks:Object(g.a)(Object(g.a)({},e.looks),{},{get:Object(g.a)(Object(g.a)({},Q.get),{},{loading:!0})})})}))),t.prev=2,t.next=5,J.a.get("".concat("https://shoplook.frangout.com","/api/get_looks?shop=").concat(s,"&id=").concat(n));case 5:return o=t.sent,i=o.data,e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{looks:Object(g.a)(Object(g.a)({},e.looks),{},{get:Object(g.a)(Object(g.a)({},Q.get),{},{success:{ok:!0,data:i}})})})}))),t.abrupt("return",i);case 11:t.prev=11,t.t0=t.catch(2),console.error(t.t0),t.t0.code===j.a.Error.INVALID_SESSION_TOKEN&&j.a.User.logOut(),e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{looks:Object(g.a)(Object(g.a)({},e.looks),{},{get:Object(g.a)(Object(g.a)({},Q.get),{},{failure:{error:!0,message:t.t0.message||$}})})})})));case 16:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}}(),postLooks:function(){var t=Object(_.a)(F.a.mark((function t(c){var r,n,a,s,o,i,l,j;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.id,r=c.shop,n=void 0===r?window.lookbook.shop:r,a=c.name,s=c.medias,o=c.products,i=void 0===o?[]:o,e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{looks:Object(g.a)(Object(g.a)({},e.looks),{},{post:Object(g.a)(Object(g.a)({},Q.post),{},{loading:!0})})})}))),t.prev=2,t.next=5,J.a.post("".concat("https://shoplook.frangout.com","/api/post_looks"),{shop:n,name:a,medias:s,products:i});case 5:return l=t.sent,j=l.data,e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{looks:Object(g.a)(Object(g.a)({},e.looks),{},{post:Object(g.a)(Object(g.a)({},Q.post),{},{success:{ok:!0,data:j}})})})}))),t.abrupt("return",j);case 11:throw t.prev=11,t.t0=t.catch(2),console.error(t.t0),e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{looks:Object(g.a)(Object(g.a)({},e.looks),{},{post:Object(g.a)(Object(g.a)({},Q.post),{},{failure:{error:!0,message:t.t0.message||$}})})})}))),t.t0;case 16:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}(),patchLooks:function(){var t=Object(_.a)(F.a.mark((function t(c){var r,n,a,s,o,i,l,j,b;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.id,n=c.shop,a=void 0===n?window.lookbook.shop:n,s=c.name,o=c.medias,i=c.products,l=void 0===i?[]:i,e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{looks:Object(g.a)(Object(g.a)({},e.looks),{},{patch:Object(g.a)(Object(g.a)({},Q.patch),{},{loading:!0})})})}))),t.prev=2,t.next=5,J.a.post("".concat("https://shoplook.frangout.com","/api/post_looks"),{id:r,shop:a,name:s,medias:o,products:l});case 5:return j=t.sent,b=j.data,e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{looks:Object(g.a)(Object(g.a)({},e.looks),{},{patch:Object(g.a)(Object(g.a)({},Q.patch),{},{success:{ok:!0,data:b}})})})}))),t.abrupt("return",b);case 11:throw t.prev=11,t.t0=t.catch(2),e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{looks:Object(g.a)(Object(g.a)({},e.looks),{},{patch:Object(g.a)(Object(g.a)({},Q.patch),{},{failure:{error:!0,message:t.t0.message||$}})})})}))),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}(),destroyLooks:function(){var t=Object(_.a)(F.a.mark((function t(c){var r,n;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{looks:Object(g.a)(Object(g.a)({},e.looks),{},{destroy:Object(g.a)(Object(g.a)({},Q.destroy),{},{loading:!0})})})}))),t.prev=1,t.next=4,J.a.delete("".concat("https://shoplook.frangout.com","/api/destroy_looks?id=").concat(c));case 4:return r=t.sent,n=r.data,e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{looks:Object(g.a)(Object(g.a)({},e.looks),{},{destroy:Object(g.a)(Object(g.a)({},Q.destroy),{},{success:{ok:!0,data:n}})})})}))),t.abrupt("return",n);case 10:throw t.prev=10,t.t0=t.catch(1),e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{looks:Object(g.a)(Object(g.a)({},e.looks),{},{destroy:Object(g.a)(Object(g.a)({},Q.destroy),{},{failure:{error:!0,message:t.t0.message||$}})})})}))),t.t0;case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}})),ee=Z,te={get:{loading:!1,success:{ok:!1,data:[]},failure:{error:!1,message:""}},post:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}},patch:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}},destroy:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}}},ce=Y()((function(e,t){return{scripts:te,getScripts:function(){var t=Object(_.a)(F.a.mark((function t(){var c,r,n,a=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a.length>0&&void 0!==a[0]?a[0]:window.lookbook.shop,e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{scripts:Object(g.a)(Object(g.a)({},e.scripts),{},{get:Object(g.a)(Object(g.a)({},te.get),{},{loading:!0})})})}))),t.prev=2,t.next=5,J.a.get("".concat("https://shoplook.frangout.com","/api/get_scripts?shop=").concat(c));case 5:return r=t.sent,n=r.data,e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{scripts:Object(g.a)(Object(g.a)({},e.scripts),{},{get:Object(g.a)(Object(g.a)({},te.get),{},{success:{ok:!0,data:n}})})})}))),t.abrupt("return",n);case 11:throw t.prev=11,t.t0=t.catch(2),e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{scripts:Object(g.a)(Object(g.a)({},e.scripts),{},{get:Object(g.a)(Object(g.a)({},te.get),{},{failure:{error:!0,message:t.t0.message||$}})})})}))),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}}(),postScripts:function(){var t=Object(_.a)(F.a.mark((function t(){var c,r,n,a=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a.length>0&&void 0!==a[0]?a[0]:window.lookbook.shop,e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{scripts:Object(g.a)(Object(g.a)({},e.scripts),{},{post:Object(g.a)(Object(g.a)({},te.post),{},{loading:!0})})})}))),t.prev=2,t.next=5,J.a.post("".concat("https://shoplook.frangout.com","/api/post_scripts"),{shop:c});case 5:return r=t.sent,n=r.data,e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{scripts:Object(g.a)(Object(g.a)({},e.scripts),{},{post:Object(g.a)(Object(g.a)({},te.post),{},{success:{ok:!0,data:n}})})})}))),t.abrupt("return",n);case 11:throw t.prev=11,t.t0=t.catch(2),e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{scripts:Object(g.a)(Object(g.a)({},e.scripts),{},{post:Object(g.a)(Object(g.a)({},te.post),{},{failure:{error:!0,message:t.t0.message||$}})})})}))),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}}(),destroyScripts:function(){var t=Object(_.a)(F.a.mark((function t(){var c,r,n,a=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a.length>0&&void 0!==a[0]?a[0]:window.lookbook.shop,e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{scripts:Object(g.a)(Object(g.a)({},e.scripts),{},{destroy:Object(g.a)(Object(g.a)({},te.destroy),{},{loading:!0})})})}))),t.prev=2,t.next=5,J.a.delete("".concat("https://shoplook.frangout.com","/api/destroy_scripts?shop=").concat(c));case 5:return r=t.sent,n=r.data,e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{scripts:Object(g.a)(Object(g.a)({},e.scripts),{},{destroy:Object(g.a)(Object(g.a)({},te.destroy),{},{success:{ok:!0,data:n}})})})}))),t.abrupt("return",n);case 11:throw t.prev=11,t.t0=t.catch(2),e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{scripts:Object(g.a)(Object(g.a)({},e.scripts),{},{destroy:Object(g.a)(Object(g.a)({},te.destroy),{},{failure:{error:!0,message:t.t0.message||$}})})})}))),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}}()}})),re=ce,ne={get:{loading:!1,success:{ok:!1,data:[]},failure:{error:!1,message:""}},post:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}}},ae=Y()((function(e,t){return{viewsState:ne,getViews:function(){var t=Object(_.a)(F.a.mark((function t(){var c,r,n,a,s,o=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=o.length>0&&void 0!==o[0]?o[0]:{},r=c.shop,n=void 0===r?window.lookbook.shop:r,console.log("ererereerer"),e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{viewsState:Object(g.a)(Object(g.a)({},e.viewsState),{},{get:Object(g.a)(Object(g.a)({},ne.get),{},{loading:!0})})})}))),t.prev=3,t.next=6,J.a.get("".concat("https://shoplook.frangout.com","/api/get_views?shop=").concat(n));case 6:return a=t.sent,s=a.data,console.log(s),e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{viewsState:Object(g.a)(Object(g.a)({},e.viewsState),{},{get:Object(g.a)(Object(g.a)({},ne.get),{},{success:{ok:!0,data:s}})})})}))),t.abrupt("return",s);case 13:t.prev=13,t.t0=t.catch(3),e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{viewsState:Object(g.a)(Object(g.a)({},e.viewsState),{},{get:Object(g.a)(Object(g.a)({},ne.get),{},{failure:{error:!0,message:t.t0.message||$}})})})})));case 16:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(){return t.apply(this,arguments)}}(),postViews:function(){var t=Object(_.a)(F.a.mark((function t(){var c,r,n,a,s,o,i=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=i.length>0&&void 0!==i[0]?i[0]:{},r=c.shop,n=void 0===r?window.lookbook.shop:r,a=c.subscribed,e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{viewsState:Object(g.a)(Object(g.a)({},e.viewsState),{},{post:Object(g.a)(Object(g.a)({},ne.post),{},{loading:!0})})})}))),t.prev=2,t.next=5,J.a.get("".concat("https://shoplook.frangout.com","/api/post_views?shop=").concat(n,"&subscribed=").concat(a));case 5:return s=t.sent,o=s.data,e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{viewsState:Object(g.a)(Object(g.a)({},e.viewsState),{},{post:Object(g.a)(Object(g.a)({},ne.post),{},{success:{ok:!0,data:o}})})})}))),t.abrupt("return",o);case 11:t.prev=11,t.t0=t.catch(2),e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{viewsState:Object(g.a)(Object(g.a)({},e.viewsState),{},{post:Object(g.a)(Object(g.a)({},ne.post),{},{failure:{error:!0,message:t.t0.message||$}})})})})));case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}}()}})),se=ae,oe={get:{loading:!1,success:{ok:!1,data:[]},failure:{error:!1,message:""}},post:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}},destroy:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}}},ie=Y()((function(e,t){return{chargesState:oe,getCharges:function(){var t=Object(_.a)(F.a.mark((function t(){var c,r,n,a,s,o=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=o.length>0&&void 0!==o[0]?o[0]:{},r=c.shop,n=void 0===r?window.lookbook.shop:r,e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{chargesState:Object(g.a)(Object(g.a)({},e.chargesState),{},{get:Object(g.a)(Object(g.a)({},oe.get),{},{loading:!0})})})}))),t.prev=2,t.next=5,J.a.get("".concat("https://shoplook.frangout.com","/api/get_charges?shop=").concat(n));case 5:return a=t.sent,s=a.data,e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{chargesState:Object(g.a)(Object(g.a)({},e.chargesState),{},{get:Object(g.a)(Object(g.a)({},oe.get),{},{success:{ok:!0,data:s}})})})}))),t.abrupt("return",s);case 11:t.prev=11,t.t0=t.catch(2),e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{chargesState:Object(g.a)(Object(g.a)({},e.chargesState),{},{get:Object(g.a)(Object(g.a)({},oe.get),{},{failure:{error:!0,message:t.t0.message||$}})})})})));case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}}(),postCharges:function(){var t=Object(_.a)(F.a.mark((function t(c){var r,n,a,s,o;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.shop,n=void 0===r?window.lookbook.shop:r,a=c.returnURL,e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{chargesState:Object(g.a)(Object(g.a)({},e.chargesState),{},{post:Object(g.a)(Object(g.a)({},oe.post),{},{loading:!0})})})}))),t.prev=2,t.next=5,J.a.post("".concat("https://shoplook.frangout.com","/api/post_charges"),{shop:n,returnURL:a});case 5:return s=t.sent,o=s.data,e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{chargesState:Object(g.a)(Object(g.a)({},e.chargesState),{},{post:Object(g.a)(Object(g.a)({},oe.post),{},{success:{ok:!0,data:o}})})})}))),t.abrupt("return",o);case 11:throw t.prev=11,t.t0=t.catch(2),e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{chargesState:Object(g.a)(Object(g.a)({},e.chargesState),{},{post:Object(g.a)(Object(g.a)({},oe.post),{},{failure:{error:!0,message:t.t0.message||$}})})})}))),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}(),destroyCharges:function(){var t=Object(_.a)(F.a.mark((function t(c){var r,n,a,s,o;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.shop,n=void 0===r?window.lookbook.shop:r,a=c.chargeId,e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{chargesState:Object(g.a)(Object(g.a)({},e.chargesState),{},{destroy:Object(g.a)(Object(g.a)({},oe.destroy),{},{loading:!0})})})}))),t.prev=2,t.next=5,J.a.post("".concat("https://shoplook.frangout.com","/api/delete_charges"),{shop:n,chargeId:a});case 5:return s=t.sent,o=s.data,e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{chargesState:Object(g.a)(Object(g.a)({},e.chargesState),{},{destroy:Object(g.a)(Object(g.a)({},oe.destroy),{},{success:{ok:!0,data:o}})})})}))),t.abrupt("return",o);case 11:throw t.prev=11,t.t0=t.catch(2),e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{chargesState:Object(g.a)(Object(g.a)({},e.chargesState),{},{destroy:Object(g.a)(Object(g.a)({},oe.destroy),{},{failure:{error:!0,message:t.t0.message||$}})})})}))),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()}})),le=ie,je=n.a.createContext(),be=function(e){e.look;return Object(S.jsxs)(p.j,{columns:2,spacing:5,marginTop:"5",children:[Object(S.jsxs)(p.g,{align:"top",children:[Object(S.jsx)(p.a,{color:"green.400",px:2,children:Object(S.jsx)(w.a,{as:G.f})}),Object(S.jsxs)(p.m,{align:"start",children:[Object(S.jsx)(p.l,{fontWeight:600,children:"Views"}),Object(S.jsx)(p.l,{color:"gray.600",marginTop:"0",style:{marginTop:0},children:"Total views"})]})]}),Object(S.jsxs)(p.g,{align:"top",children:[Object(S.jsx)(p.a,{color:"green.400",px:2,children:Object(S.jsx)(w.a,{as:G.g})}),Object(S.jsxs)(p.m,{align:"start",children:[Object(S.jsx)(p.l,{fontWeight:600,children:"Clicks"}),Object(S.jsx)(p.l,{color:"gray.600",marginTop:"0",style:{marginTop:0},children:"Total clicks"})]})]}),Object(S.jsxs)(p.g,{align:"top",children:[Object(S.jsx)(p.a,{color:"green.400",px:2,children:Object(S.jsx)(w.a,{as:G.c})}),Object(S.jsxs)(p.m,{align:"start",children:[Object(S.jsx)(p.l,{fontWeight:600,children:"Add to cart"}),Object(S.jsx)(p.l,{color:"gray.600",marginTop:"0",style:{marginTop:0},children:"Cart revenue"})]})]}),Object(S.jsxs)(p.g,{align:"top",children:[Object(S.jsx)(p.a,{color:"green.400",px:2,children:Object(S.jsx)(w.a,{as:G.h})}),Object(S.jsxs)(p.m,{align:"start",children:[Object(S.jsx)(p.l,{fontWeight:600,children:"Conversion"}),Object(S.jsx)(p.l,{color:"gray.600",marginTop:"0",style:{marginTop:0},children:"Total revenue"})]})]})]})},ue=function(e){var t=e.orangeColorMode,c=e.look;return Object(S.jsxs)(p.a,{display:"flex",flex:"1",marginRight:"3",position:"relative",alignItems:"center",children:[Object(S.jsx)(p.a,{width:{base:"100%"},zIndex:"2",children:Object(S.jsx)(N,{medias:c.medias})}),Object(S.jsx)(p.a,{zIndex:"1",width:"100%",position:"absolute",height:"100%",children:Object(S.jsx)(p.a,{bgGradient:t,backgroundSize:"20px 20px",opacity:"0.4",height:"100%"})})]})},de=function(e){return Object(S.jsxs)(p.g,{display:"flex",alignItems:"center",children:[Object(S.jsx)(p.l,{fontWeight:"light",fontSize:"sm",children:"Created at:"}),Object(S.jsx)(p.l,{fontSize:"sm",children:e.date.toLocaleString(R.DateTime.DATETIME_MED)})]})},Oe=function(e){var t=e.looks,c=e.orangeColorMode,r=e.getLooks;return t.get.loading?Object(S.jsxs)(p.f,{alignItems:"flex-start",flexDirection:"row",children:[Object(S.jsx)(h.a,{children:Object(S.jsx)(N,{medias:[]})}),Object(S.jsxs)(p.f,{direction:"column",width:"90%",marginLeft:"5",children:[Object(S.jsx)(h.a,{width:"100%",height:"40px"}),Object(S.jsx)("br",{}),Object(S.jsx)(h.a,{width:"100%",height:"20px"}),Object(S.jsx)("br",{}),Object(S.jsx)(h.a,{width:"100%",height:"20px"}),Object(S.jsx)("br",{}),Object(S.jsx)(h.a,{width:"100%",height:"20px"})]})]}):t.get.failure.error?Object(S.jsx)(p.a,{children:Object(S.jsxs)(p.f,{direction:"column",align:"center",children:[Object(S.jsx)(p.m,{spacing:"3",children:Object(S.jsx)(p.h,{as:"h1",size:"md",children:t.get.failure.message})}),Object(S.jsx)("br",{}),Object(S.jsx)(p.e,{}),Object(S.jsx)("br",{}),Object(S.jsx)(p.m,{spacing:"3",children:Object(S.jsx)(m.a,{onClick:function(){return r()},children:"Try Again"})})]})}):t.get.success.data.length?t.get.success.data.map((function(e){return Object(S.jsxs)(p.a,{children:[Object(S.jsxs)(p.a,{marginTop:{base:"1",sm:"5"},marginBottom:{base:"1",sm:"5"},display:"flex",flexDirection:{base:"column",sm:"row"},justifyContent:"space-between",children:[ue({orangeColorMode:c,look:e}),Object(S.jsxs)(p.a,{display:"flex",flex:"1",flexDirection:"column",justifyContent:"flex-start",marginTop:{base:"3",sm:"0"},children:[Object(S.jsxs)(h.a,{isLoaded:!t.get.loading,children:[Object(S.jsx)(p.h,{marginTop:"1",children:Object(S.jsx)(i.b,{textDecoration:"none",_hover:{textDecoration:"none"},to:"looks/".concat(e.objectId),children:e.name})}),Object(S.jsx)(de,{date:e.createdAt})]}),be({look:e}),Object(S.jsx)(p.k,{direction:"row",spacing:4,marginTop:"5",children:Object(S.jsx)(i.b,{to:"looks/".concat(e.objectId),children:Object(S.jsx)(m.a,{colorScheme:"blue",isFullWidth:!0,leftIcon:Object(S.jsx)(G.b,{}),variant:"solid",children:"View / Modify"})})})]})]},e.objectId),Object(S.jsx)(p.e,{marginTop:"1em",marginBottom:"1em"})]},e.objectId)})):t.get.success.data.length?null:Object(S.jsx)(p.a,{children:Object(S.jsxs)(p.f,{direction:"column",align:"center",children:[Object(S.jsx)(p.m,{spacing:"3",children:Object(S.jsx)(p.h,{as:"h1",size:"md",children:"You have not created any looks yet."})}),Object(S.jsx)("br",{}),Object(S.jsx)(p.e,{}),Object(S.jsx)("br",{}),Object(S.jsx)(p.m,{spacing:"3",children:Object(S.jsx)(i.b,{to:"/looks/create",children:Object(S.jsx)(m.a,{children:"Create Look"})})})]})})};function pe(e){var t=ee((function(e){return e.looks})),c=ee((function(e){return e.getLooks})),n=Object(r.useContext)(je),a=re((function(e){return e.scripts})),s=re((function(e){return e.postScripts})),o=re((function(e){return e.getScripts})),i=re((function(e){return e.destroyScripts})),l=Object(D.a)(),j=Object(f.c)(),b=j.isOpen,u=j.onOpen,d=j.onClose,O=Object(x.d)("radial(orange.600 1px, transparent 1px)","radial(orange.300 1px, transparent 1px)"),h=le((function(e){return e.getCharges})),g=le((function(e){return e.postCharges})),v=le((function(e){return e.chargesState})),k=le((function(e){return e.destroyCharges})),w=se((function(e){return e.postViews})),C=function(){var e=Object(_.a)(F.a.mark((function e(){var t,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h({shop:n});case 3:t=e.sent,console.log(t),c=t.recurringApplicationCharges.find((function(e){return"active"===e.status})),w(c?{shop:n,subscribed:!0}:{shop:n,subscribed:!1}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)(Object(_.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(),o(n),C();case 3:case"end":return e.stop()}}),e)}))),[]);return Object(S.jsxs)(S.Fragment,{children:[function(e){if(!e.looks.get.success.data.length)return null;var t=function(){var e=Object(_.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(n);case 3:l({title:"Widget added successfully! Please visit your online store after 30 seconds to check the widget.",status:"success"}),o(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l({title:e.t0.message||$,status:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(_.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i(n);case 3:l({title:"Widget removed successfully!",status:"success"}),o(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l({title:e.t0.message||$,status:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(S.jsx)(E.a,{status:"info",children:Object(S.jsxs)(p.f,{direction:"row",justifyContent:"space-between",width:"100%",alignItems:"center",height:"100%",children:[Object(S.jsx)(p.k,{children:a.get.loading?null:a.get.success.data.length?Object(S.jsxs)(p.f,{direction:"column",children:[Object(S.jsxs)(p.l,{children:['"Shop The Look" widget ',Object(S.jsx)("b",{children:"has been added"})," to your store page. \xa0"]}),Object(S.jsxs)(p.l,{cursor:"pointer",onClick:u,style:{textDecoration:"underline"},children:["For custom widget position instructions ",Object(S.jsx)("b",{children:"click here."})]})]}):Object(S.jsxs)(p.l,{children:['"Shop The Look" widget is ',Object(S.jsx)("b",{children:"not added"})," to your store page."]})}),Object(S.jsx)(m.b,{variant:"outline",spacing:"6",children:a.get.loading?Object(S.jsx)(m.a,{colorScheme:"gray",isLoading:!0,isDisabled:!0,children:"Loading ..."}):a.get.success.data.length?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(p.i,{target:"_blank",href:"http://".concat(n,"#frangout-shop-look-app-wrapper"),children:Object(S.jsx)(m.a,{fontWeight:"bold",size:"md",colorScheme:"green",variant:"ghost",leftIcon:Object(S.jsx)(y.g,{}),children:"Preview Widget"})}),Object(S.jsx)(m.a,{isLoading:a.destroy.loading||a.get.loading,fontWeight:"bold",size:"md",colorScheme:"red",onClick:c,children:"Remove Widget"})]}):Object(S.jsx)(m.a,{isLoading:a.post.loading||a.get.loading,fontWeight:"bold",size:"md",colorScheme:"blue",onClick:t,children:"Add Widget To Your Store"})})]})})}({looks:t}),Object(S.jsx)(p.e,{}),v.get.loading?null:v.get.success.ok?Object(S.jsx)(E.a,{status:"info",children:Object(S.jsxs)(p.f,{direction:"row",justifyContent:"space-between",width:"100%",alignItems:"center",height:"100%",children:[Object(S.jsxs)(p.k,{children:[Object(S.jsxs)(p.l,{children:["The Lookbook widget on your store has"," ",Object(S.jsx)("b",{children:v.get.success.data.views.count})," views"," "]}),Object(S.jsx)(p.l,{children:"The first 1000 views are free. Please subscribe to our flat $4.99/month paid plan for unlimited views."})]}),Object(S.jsx)(m.b,{variant:"outline",spacing:"6",children:function(){var e=v.get.success.data.recurringApplicationCharges.find((function(e){return"active"===e.status}));return e?Object(S.jsx)(m.a,{isLoading:v.destroy.loading,fontWeight:"bold",size:"md",colorScheme:"red",onClick:Object(_.a)(F.a.mark((function t(){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k({chargeId:e.id});case 2:t.sent,h({shop:n}),C();case 5:case"end":return t.stop()}}),t)}))),children:"Cancel Paid Plan"}):e?void 0:Object(S.jsx)(m.a,{isLoading:v.post.loading,fontWeight:"bold",size:"md",colorScheme:"blue",onClick:Object(_.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g({returnURL:"https://".concat(n,"/admin/apps/").concat("shoplook")});case 2:(t=e.sent)&&(window.self!==window.top?window.parent.location.href=t.confirmation_url:window.location.href=t.confirmation_url);case 4:case"end":return e.stop()}}),e)}))),children:"$4.99/month for unlimited views"})}()})]})}):v.get.failure.error?null:void 0,Object(S.jsxs)(p.d,{maxW:"7xl",p:"12",children:[Object(S.jsx)("br",{}),Oe({looks:t,orangeColorMode:O,getLooks:c})]}),Object(S.jsxs)(P.a,{onClose:d,isOpen:b,isCentered:!0,size:"3xl",children:[Object(S.jsx)(P.g,{}),Object(S.jsxs)(P.d,{children:[Object(S.jsx)(P.f,{children:"Custom Widget Position"}),Object(S.jsx)(P.c,{}),Object(S.jsxs)(P.b,{textAlign:"center",children:["If you want the widget only on certain pages or only in certain positions please add the following html tag to custom liquid or custom html section.",Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)("b",{children:Object(S.jsx)(p.c,{size:"xl",children:'<div id="frangout-shop-look-app"> </div>'})}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)("iframe",{width:"720",height:"405",src:"https://www.youtube.com/embed/poWt-ssYDM8",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})]}),Object(S.jsx)(P.e,{children:Object(S.jsx)(m.a,{onClick:d,children:"Ok"})})]})]})]})}pe.defaultProps={};var he=pe,ge=c(208),fe=c(338);function xe(){var e=Object(r.useState)(""),t=Object(O.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)(!1),s=Object(O.a)(a,2),o=s[0],i=s[1];return Object(S.jsx)(p.a,{marginTop:"24",children:Object(S.jsx)(p.m,{children:Object(S.jsxs)(p.a,{boxSize:"lg",children:[Object(S.jsxs)(p.m,{spacing:"3",children:[Object(S.jsx)(p.h,{as:"h1",size:"md",children:"Shopify Store Authentication"}),Object(S.jsx)(p.l,{children:"The access data to your Shopify site has expired."})]}),Object(S.jsx)("br",{}),Object(S.jsx)(p.e,{}),Object(S.jsx)("br",{}),Object(S.jsxs)(p.m,{spacing:"3",children:[Object(S.jsxs)(ge.a,{id:"shopify-site",isRequired:!0,isInvalid:o,children:[Object(S.jsx)(ge.c,{children:"Shopify site sub domain"}),Object(S.jsxs)(fe.b,{children:[Object(S.jsx)(fe.c,{children:"https://"}),Object(S.jsx)(fe.a,{onChange:function(e){return n(e.target.value)},type:"text",value:c,placeholder:"yourstore.myshopify.com"})]}),Object(S.jsx)(ge.b,{children:"This is required"})]}),Object(S.jsx)(m.a,{onClick:function(){if(!c)return i(!0),!1;window.location.href="".concat("https://shoplook.frangout.com","/shopify?shop=").concat(c)},isFullWidth:!0,children:"Authorize"})]})]})})})}var me=function(){var e=Object(r.useState)(!1),t=Object(O.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)(!1),s=Object(O.a)(a,2),o=s[0],i=s[1],l=Object(r.useState)(!1),j=Object(O.a)(l,2),b=j[0],g=j[1],f=Object(r.useState)(!1),x=Object(O.a)(f,2),m=x[0],v=x[1],k=Object(r.useState)(!1),w=Object(O.a)(k,2),y=w[0],I=w[1];return Object(r.useEffect)((function(){var e=u(window.location.search),t=e.code,c=e.session,r=e.hmac,a=e.embed,s=e.host,o=void 0===s?"":s;e.userToken;window.lookbook=u(window.location.search),c?(n(!0),i(!1),g(!1),v(!1)):t?(n(!1),i(!1),g(!0),v(!1),window.location.replace("".concat("https://shoplook.frangout.com","/shopify/callback").concat(document.location.search))):r?(n(!1),i(!0),g(!1),v(!1),window.location.replace("".concat("https://shoplook.frangout.com","/shopify").concat(document.location.search))):!o||t||r?a&&(I(!0),n(!1),i(!1),g(!1),v(!1)):(v(!0),n(!1),i(!1),g(!1))}),[]),c?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(C,{}),Object(S.jsx)(he,{})]}):y?Object(S.jsx)(d.a,{to:"/embed",replace:!0}):o||b||m?Object(S.jsx)(p.d,{maxW:"7xl",p:"12",children:Object(S.jsxs)(p.f,{alignItems:"flex-start",flexDirection:"row",children:[Object(S.jsx)(h.a,{children:Object(S.jsx)(p.a,{})}),Object(S.jsxs)(p.f,{direction:"column",width:"90%",marginLeft:"5",children:[Object(S.jsx)(h.a,{width:"100%",height:"40px"}),Object(S.jsx)("br",{}),Object(S.jsx)(h.a,{width:"100%",height:"20px"}),Object(S.jsx)("br",{}),Object(S.jsx)(h.a,{width:"100%",height:"20px"}),Object(S.jsx)("br",{}),Object(S.jsx)(h.a,{width:"100%",height:"20px"})]})]})}):Object(S.jsx)(xe,{})},ve=c(75),ke=c(209),we=c(5),ye=c(339),Se=function(){var e=Object(_.a)(F.a.mark((function e(t){var c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new FileReader).readAsDataURL(t),e.abrupt("return",new Promise((function(e,t){c.onload=function(){return e(c.result)},c.onerror=function(e){return t(e)}})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce={get:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}},post:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}},destroy:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}}},Ie=Y()((function(e,t){return{files:Ce,getFiles:function(){var t=Object(_.a)(F.a.mark((function t(){var c;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{files:Object(g.a)(Object(g.a)({},e.files),{},{get:Object(g.a)(Object(g.a)({},Ce.get),{},{loading:!0})})})}))),t.prev=1,t.next=4,J.a.get("",{headers:{Authorization:"Bearer ".concat(window.localStorage.getItem("thinkificAccessToken")),accept:"application/json"}});case 4:c=t.sent,c.data,e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{files:Object(g.a)(Object(g.a)({},e.files),{},{get:Object(g.a)(Object(g.a)({},Ce.get),{},{success:{ok:!0,data:[]}})})})}))),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{files:Object(g.a)(Object(g.a)({},e.files),{},{get:Object(g.a)(Object(g.a)({},Ce.get),{},{failure:{error:!0,message:t.t0.message||$}})})})})));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}(),postFiles:function(){var t=Object(_.a)(F.a.mark((function t(c){var r,n;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{files:Object(g.a)(Object(g.a)({},e.files),{},{post:Object(g.a)(Object(g.a)({},Ce.post),{},{loading:!0})})})}))),t.prev=1,t.next=4,Promise.all(c.map(function(){var e=Object(_.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se(t);case 2:return e.t0=e.sent,e.t1=t.type,e.abrupt("return",{data:e.t0,type:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return r=t.sent,t.next=7,Promise.all(r.map(function(){var e=Object(_.a)(F.a.mark((function e(t){var c,r,n,a,s;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new j.a.File("looks",{base64:t.data},t.type),e.next=3,J.a.post("".concat("https://shoplook.frangout.com","/parse/files/looks"),{base64:(null===n||void 0===n||null===(c=n._source)||void 0===c?void 0:c.base64)||n._data,_ApplicationId:j.a.applicationId,_ClientVersion:"js3.4.1",_ContentType:null===n||void 0===n||null===(r=n._source)||void 0===r?void 0:r.type,_JavaScriptKey:j.a.javaScriptKey,fileData:{metadata:{},tags:{}}},{headers:{"content-type":"text/plain"}});case 3:return a=e.sent,s=a.data,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:return n=t.sent,e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{files:Object(g.a)(Object(g.a)({},e.files),{},{post:Object(g.a)(Object(g.a)({},Ce.post),{},{success:{ok:!0,data:n}})})})}))),t.abrupt("return",n);case 12:throw t.prev=12,t.t0=t.catch(1),e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{files:Object(g.a)(Object(g.a)({},e.files),{},{post:Object(g.a)(Object(g.a)({},Ce.post),{},{failure:{error:!0,message:t.t0.message||$}})})})}))),t.t0;case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}(),destroyFiles:function(){var t=Object(_.a)(F.a.mark((function t(c){var r,n;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{files:Object(g.a)(Object(g.a)({},e.files),{},{destroy:Object(g.a)(Object(g.a)({},Ce.destroy),{},{loading:!0})})})}))),t.prev=1,t.next=4,J.a.delete("",{headers:{Authorization:"Bearer ".concat(window.localStorage.getItem("thinkificAccessToken")),accept:"*/*","Access-Control-Allow-Origin":"*"}});case 4:return r=t.sent,n=r.data,e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{files:Object(g.a)(Object(g.a)({},e.files),{},{destroy:Object(g.a)(Object(g.a)({},Ce.destroy),{},{success:{ok:!0,data:n}})})})}))),t.abrupt("return",n);case 10:throw t.prev=10,t.t0=t.catch(1),e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{files:Object(g.a)(Object(g.a)({},e.files),{},{destroy:Object(g.a)(Object(g.a)({},Ce.destroy),{},{failure:{error:!0,message:t.t0.message||$}})})})}))),t.t0;case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}})),ze=Ie,Te=c(363);var Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isOpen,c=void 0!==t&&t,n=e.onClose,a=(e.on,ze((function(e){return e.files}))),s=ze((function(e){return e.postFiles})),o=Object(D.a)(),i=Object(r.useState)([]),l=Object(O.a)(i,2),j=l[0],b=l[1],u=Object(r.useCallback)(function(){var e=Object(_.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(t.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d=Object(Te.a)({onDrop:u,accept:"image/*",maxFiles:3,multiple:!0}),h=d.getRootProps,f=d.getInputProps,v=d.isDragActive;Object(r.useEffect)((function(){b([])}),[]),Object(r.useEffect)((function(){return function(){j.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[j]);var k=function(){var e=Object(_.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(j);case 3:t=e.sent,b([]),n(t||[]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o({title:"Incognito mode is not allowed. "+(e.t0.message||$),status:"error"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),w=v?"Drop upto 3 png, jpeg or gifs here ...":"Drag 'n' drop upto 3 png, jpeg or gifs files here, or click to select uploads",y=Object(x.d)("gray.100","gray.600"),C=Object(x.d)(v?"teal.300":"gray.300",v?"teal.500":"gray.500");return Object(S.jsxs)(P.h,{isOpen:c,onClose:n,closeOnOverlayClick:!1,onEsc:function(){return b([])},children:[Object(S.jsx)(P.n,{}),Object(S.jsxs)(P.k,{children:[Object(S.jsx)(P.m,{children:"Add images for this look."}),Object(S.jsxs)(P.i,{children:[Object(S.jsx)(p.b,Object(g.a)(Object(g.a)({p:10,cursor:"pointer",bg:v?y:"transparent",_hover:{bg:y},transition:"background-color 0.2s ease",borderRadius:4,border:"3px dashed",borderColor:C},h()),{},{children:Object(S.jsx)(p.m,{children:Object(S.jsxs)("div",{children:[Object(S.jsx)("input",Object(g.a)({},f())),Object(S.jsx)(p.l,{textAlign:"center",children:w})]})})})),Object(S.jsx)(p.b,{children:Object(S.jsx)(p.j,{spacing:5,columns:3,marginTop:"5",children:j.map((function(e){return Object(S.jsx)(ke.a,{src:e.preview,width:100,height:100,objectFit:"cover",borderRadius:"5",borderColor:"gray",borderWidth:"2"},e.name)}))})})]}),Object(S.jsxs)(P.l,{children:[Object(S.jsx)(m.a,{variant:"ghost",onClick:function(){b([]),n([])},colorScheme:"red",children:"Close"}),Object(S.jsx)(m.a,{colorScheme:"teal",mr:3,onClick:k,loadingText:"Uploading...",isLoading:a.post.loading,children:"Upload"})]})]})]})};function We(e){var t=Object(r.useContext)(je),c=Object(f.c)(),n=c.isOpen,a=c.onOpen,s=c.onClose,o=Object(f.c)(),i=o.isOpen,l=o.onOpen,j=o.onClose,u=ee((function(e){return e.looks})),v=(ze((function(e){return e.files})),ee((function(e){return e.getLooks}))),k=ee((function(e){return e.postLooks})),y=ee((function(e){return e.destroyLooks})),I=ee((function(e){return e.patchLooks})),z=re((function(e){return e.scripts})),T=re((function(e){return e.postScripts})),L=re((function(e){return e.getScripts})),W=Object(d.h)().id,A=void 0===W?"":W,E=Object(D.a)(),P=(Object(d.g)(),Object(x.d)("gray.100","gray.700"),Object(r.useState)(e.looks.name)),R=Object(O.a)(P,2),B=R[0],U=R[1],M=Object(r.useState)(e.looks.files||[]),V=Object(O.a)(M,2),q=V[0],N=V[1],H=Object(r.useState)(e.looks.products||[]),Y=Object(O.a)(H,2),K=Y[0],J=Y[1],X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];N([].concat(Object(ve.a)(q),Object(ve.a)(e))),s()},Q=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};J([].concat(Object(ve.a)(K.filter(Boolean)),Object(ve.a)(null===t||void 0===t||null===(e=t.selection)||void 0===e?void 0:e.map((function(e){return{title:e.title,image:e.images[0]&&e.images[0].originalSrc||"",id:e.id}})).filter(Boolean)))),j()},Z=function(){var e=Object(_.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A){e.next=6;break}return e.next=3,v({id:A});case 3:t=e.sent,console.log("data is ",t),t&&(U(null===t||void 0===t?void 0:t.name),N([].concat(Object(ve.a)(q),Object(ve.a)(null===t||void 0===t?void 0:t.medias))),J([].concat(Object(ve.a)(K),Object(ve.a)(null===t||void 0===t?void 0:t.products.map((function(e){return{id:e.admin_graphql_api_id,title:e.title,image:e.image.src}}))))));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){Z()}),[]);var te=function(){var e=Object(_.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y(t);case 3:E({title:"Look deleted!",status:"success"}),window.history.back(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),E({title:e.t0.message||$,status:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(){return K.map((function(e,t){return Object(S.jsxs)(p.k,{id:e.id,justifyContent:"space-between",direction:"row",background:"white",padding:"3",borderRadius:"lg",marginBottom:"4",align:"center",children:[Object(S.jsxs)(p.f,{flexDirection:"row",alignItems:"center",children:[Object(S.jsx)(p.f,{w:16,h:16,align:"center",justify:"center",rounded:"full",children:Object(S.jsx)(ke.a,{objectFit:"contain",width:"100%",height:"100%",src:e.image,color:"yellow.500"})}),Object(S.jsx)(p.f,{direction:"column",children:Object(S.jsx)(p.l,{marginLeft:"3",fontWeight:600,children:e.title})})]}),Object(S.jsx)(w.a,{as:G.d,color:"red.500",w:5,h:5,onClick:function(){return function(e){K.splice(e,1),J(Object(ve.a)(K.filter(Boolean)))}(t)}})]},t)}))};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(C,{}),Object(S.jsxs)(p.a,{position:"relative",children:[Object(S.jsx)(p.d,{as:p.j,maxW:"7xl",columns:{base:1,md:1},spacing:{base:10,lg:32},py:{base:10,sm:15,lg:20},children:Object(S.jsx)(p.k,{bg:"gray.50",rounded:"xl",p:{base:4,sm:6,md:8},spacing:{base:8},maxW:"3xl",zIndex:"9",margin:"0 auto",width:"100%",children:function(){if(u.get.loading)return Object(S.jsxs)(p.f,{direction:"column",width:"100%",children:[Object(S.jsx)(h.a,{width:"100%",height:"40px",children:" "}),Object(S.jsx)(h.c,{mt:"4",noOfLines:1,spacing:"4"}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsxs)(p.a,{children:[Object(S.jsx)(h.b,{size:"20"}),Object(S.jsx)(h.c,{mt:"4",noOfLines:4,spacing:"4"})]})]});if(u.get.failure.error)return Object(S.jsx)(p.a,{children:Object(S.jsxs)(p.f,{direction:"column",align:"center",children:[Object(S.jsx)(p.m,{spacing:"3",children:Object(S.jsx)(p.h,{as:"h1",size:"md",children:u.get.failure.message})}),Object(S.jsx)("br",{}),Object(S.jsx)(p.e,{}),Object(S.jsx)("br",{}),Object(S.jsx)(p.m,{spacing:"3",children:Object(S.jsx)(m.a,{onClick:function(){return Z()},children:"Try Again"})})]})});var c,r=(null===u||void 0===u||null===(c=u.get)||void 0===c?void 0:c.success).data;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(p.k,{spacing:4,children:[Object(S.jsx)(p.h,{color:"gray.800",lineHeight:1.1,fontSize:{base:"2xl",sm:"3xl",md:"4xl"},children:r&&r.name?r.name:"Create a look"}),Object(S.jsx)(p.l,{color:"gray.500",fontSize:{base:"sm",sm:"md"},children:"Add a name for the look you create and link the products from your store that can form this look."})]}),Object(S.jsx)(p.a,{mt:10,children:Object(S.jsxs)(we.d.form,Object(g.a)(Object(g.a)({onSubmit:function(){var e=Object(_.a)(F.a.mark((function e(c){var r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),e.prev=1,!A){e.next=7;break}return e.next=5,I({id:A,name:B,medias:q,products:K.map((function(e){return e.id}))});case 5:e.next=24;break;case 7:return e.next=9,k({name:B,medias:q,products:K.map((function(e){return e.id}))});case 9:return e.prev=9,e.next=12,L(t);case 12:if(!(r=e.sent)||!r.length){e.next=16;break}e.next=18;break;case 16:return e.next=18,T(t);case 18:window.history.back(),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(9),window.history.back();case 24:E({title:"Looks ".concat(A?"updated":"created"," successfully!"),status:"success"}),e.next=30;break;case 27:e.prev=27,e.t1=e.catch(1),E({title:e.t1.message||$,status:"error"});case 30:case"end":return e.stop()}}),e,null,[[1,27],[9,21]])})));return function(t){return e.apply(this,arguments)}}()},e),{},{children:[Object(S.jsxs)(p.k,{spacing:4,children:[Object(S.jsxs)(ge.a,{id:"look-name",children:[Object(S.jsx)(ge.c,{children:"Look name"}),Object(S.jsx)(fe.a,{placeholder:"Winter Fashion Look",name:"look_name",type:"text",value:B,onChange:function(e){return U(e.target.value)},required:!0})]}),Object(S.jsxs)(ge.a,{children:[Object(S.jsx)(ge.c,{children:"Add medias to this look"}),Object(S.jsxs)(ye.c,{children:[q.map((function(e,t){return Object(S.jsx)(ye.a,{name:e._name||e.name,src:e._url||e.url,size:"lg",position:"relative",zIndex:2,_before:{content:'""',width:"full",height:"full",rounded:"full",transform:"scale(1.125)",bgGradient:"linear(to-bl, red.400,pink.400)",position:"absolute",zIndex:-1,top:0,left:0},children:Object(S.jsx)(ye.b,{boxSize:"1.25em",bg:"red.500",onClick:function(){return function(e,t){q.splice(t,1),N(Object(ve.a)(q.filter(Boolean)))}(0,t)},children:Object(S.jsx)(w.a,{as:G.e,color:"white.500",w:5,h:5})})},(e._name||e.name)+t)})),Object(S.jsx)(ye.a,{onClick:a,size:"lg",bg:"pink.400",_hover:{bg:"pink.300"},cursor:"pointer",icon:Object(S.jsx)(G.a,{size:"2em",color:"white"}),_before:{content:'""',width:"full",height:"full",rounded:"full",transform:"scale(1.2)",bgGradient:"linear(to-bl, red.400,pink.400)",position:"absolute",zIndex:-1,top:0,left:0}})]}),Object(S.jsx)(Le,{isOpen:n,onClose:X})]}),Object(S.jsx)("br",{}),Object(S.jsxs)(ge.a,{id:"look-products",children:[Object(S.jsx)(ge.c,{children:"Add products for this look"}),Object(S.jsx)(p.k,{spacing:4,children:ce()}),Object(S.jsx)(m.a,{fontFamily:"heading",bg:"gray.200",color:"gray.800",onClick:l,children:"Link products +"}),Object(S.jsx)(b.ResourcePicker,{onSelection:Q,onCancel:j,selectMultiple:!0,showVariants:!1,resourceType:"Product",open:i,initialSelectionIds:K.map((function(e){return{id:e.id}})).filter(Boolean)})]})]}),Object(S.jsxs)(m.b,{mt:8,width:"full",children:[r&&r.objectId?Object(S.jsx)(m.a,{isLoading:u.destroy.loading,onClick:function(){return te(r.objectId)},isFullWidth:!0,variant:"ghost",colorScheme:"red",children:"Delete Look"}):null,Object(S.jsx)(m.a,{isLoading:u.post.loading||u.patch.loading||z.get.loading||z.post.loading,disabled:u.post.loading||u.patch.loading||z.get.loading||z.post.loading,loadingText:"".concat(A?"Updating":"Saving"," look"),type:"submit",fontFamily:"heading",isFullWidth:!0,w:"full",bgGradient:"linear(to-r, red.400,pink.400)",color:"white",_hover:{bgGradient:"linear(to-r, red.400,pink.400)",boxShadow:"xl"},children:"".concat(A?"Update":"Save"," look")})]})]}))})]})}()})}),Object(S.jsx)(_e,{position:"absolute",top:30,left:-10,style:{filter:"blur(70px)"}})]})]})}var _e=function(e){return Object(S.jsxs)(w.a,Object(g.a)(Object(g.a)({width:Object(B.a)({base:"100%",md:"40vw",lg:"30vw"}),zIndex:Object(B.a)({base:-1,md:-1,lg:0}),height:"560px",viewBox:"0 0 528 560",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[Object(S.jsx)("circle",{cx:"71",cy:"61",r:"111",fill:"#F56565"}),Object(S.jsx)("circle",{cx:"244",cy:"106",r:"139",fill:"#ED64A6"}),Object(S.jsx)("circle",{cy:"291",r:"139",fill:"#ED64A6"}),Object(S.jsx)("circle",{cx:"80.5",cy:"189.5",r:"101.5",fill:"#ED8936"}),Object(S.jsx)("circle",{cx:"196.5",cy:"317.5",r:"101.5",fill:"#ECC94B"}),Object(S.jsx)("circle",{cx:"70.5",cy:"458.5",r:"101.5",fill:"#48BB78"}),Object(S.jsx)("circle",{cx:"426.5",cy:"-0.5",r:"101.5",fill:"#4299E1"})]}))};We.defaultProps={looks:{name:""}};var Ae=We,Fe=function(){var e=Object(r.useContext)(je),t=re((function(e){return e.scripts})),c=re((function(e){return e.postScripts})),n=re((function(e){return e.getScripts})),a=re((function(e){return e.destroyScripts})),s=Object(D.a)();Object(r.useEffect)((function(){n(e)}),[]);var o=function(){var t=Object(_.a)(F.a.mark((function t(){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c(e);case 3:s({title:"Widget added successfully! Please visit your online store after 30 seconds to check the widget.",status:"success"}),n(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),s({title:t.t0.message||$,status:"error"});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),i=function(){var t=Object(_.a)(F.a.mark((function t(){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a(e);case 3:s({title:"Widget removed successfully!",status:"success"}),n(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),s({title:t.t0.message||$,status:"error"});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(C,{}),Object(S.jsx)(p.d,{maxW:"7xl",p:"12",children:Object(S.jsx)(p.a,{as:"section",children:Object(S.jsxs)(p.a,{maxW:"2xl",mx:"auto",px:{base:"6",lg:"8"},py:{base:"16",sm:"20"},textAlign:"center",children:[Object(S.jsx)(p.h,{size:"3xl",fontWeight:"extrabold",letterSpacing:"tight",children:"Widget embed settings"}),Object(S.jsx)(p.l,{mt:"4",fontSize:"lg",children:'Enable or disable "Shop the look" widget on your store. The widget gets appended to the bottom of your store page above the footer on the home page.'}),Object(S.jsx)(m.b,{mt:"8",variant:"outline",spacing:"6",children:t.get.loading?Object(S.jsx)(m.a,{colorScheme:"gray",isLoading:!0,isDisabled:!0,children:"Loading ..."}):t.get.success.data.length?Object(S.jsx)(m.a,{isLoading:t.destroy.loading||t.get.loading,fontWeight:"bold",size:"lg",colorScheme:"red",onClick:i,children:"Remove Widget From Your Store"}):Object(S.jsx)(m.a,{isLoading:t.post.loading||t.get.loading,fontWeight:"bold",size:"lg",colorScheme:"blue",onClick:o,children:"Add Widget To Your Store"})}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)(p.e,{}),Object(S.jsx)(p.l,{mt:"4",fontSize:"lg",children:"NOTE: If you want the widget only on certain pages or only in certain positions please add the following html tag to custom liquid or custom html section."}),Object(S.jsx)("br",{}),Object(S.jsx)(p.c,{children:'<div id="frangout-shop-look-app"> </div>'})]})})})]})},De={get:{loading:!1,success:{ok:!1,data:[]},failure:{error:!1,message:""}}},Ee=Y()((function(e,t){return{products:De,getProducts:function(){var t=Object(_.a)(F.a.mark((function t(){var c,r,n,a,s,o,i,l=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=l.length>0&&void 0!==l[0]?l[0]:{},r=c.products,n=void 0===r?[]:r,a=c.shop,e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{products:Object(g.a)(Object(g.a)({},e.products),{},{get:Object(g.a)(Object(g.a)({},De.get),{},{loading:!0})})})}))),t.prev=2,s=n.map((function(e){var t;if("string"===typeof e)return null===(t=e.split("/"))||void 0===t?void 0:t.pop()})).filter(Boolean),t.next=6,J.a.get("".concat("https://shoplook.frangout.com","/api/get_products?shop=").concat(a,"&ids=").concat(s));case 6:return o=t.sent,i=o.data,e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{products:Object(g.a)(Object(g.a)({},e.products),{},{get:Object(g.a)(Object(g.a)({},De.get),{},{success:{ok:!0,data:i}})})})}))),t.abrupt("return",i);case 12:t.prev=12,t.t0=t.catch(2),e(Object(X.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{products:Object(g.a)(Object(g.a)({},e.products),{},{get:Object(g.a)(Object(g.a)({},De.get),{},{failure:{error:!0,message:t.t0.message||$}})})})})));case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(){return t.apply(this,arguments)}}()}})),Pe=Ee,Re=(c(819),function(e){var t=e.isOpen,c=e.onClose,n=e.productIds,a=void 0===n?[]:n,s=e.lookId,o=Pe((function(e){return e.products})),i=Pe((function(e){return e.getProducts})),l=Object(r.useContext)(je);Object(r.useEffect)((function(){i({products:a,shop:l})}),[]);return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(P.h,{isCentered:!0,scrollBehavior:"inside",closeOnOverlayClick:!0,blockScrollOnMount:!1,preserveScrollBarGap:!0,lockFocusAcrossFrames:!1,isOpen:t,onClose:c,size:"xl",children:[Object(S.jsx)(P.n,{}),Object(S.jsxs)(P.k,{children:[Object(S.jsx)(P.m,{children:"Shop the products in this look"}),Object(S.jsx)(P.j,{}),Object(S.jsx)(P.i,{children:o.get.loading?Object(S.jsx)(p.j,{minChildWidth:"330px",spacing:"10px",children:[1,2,3].map((function(e,t){return Object(S.jsx)(p.b,{p:4,children:Object(S.jsx)(h.a,{width:"330px",height:"330px"})},t)}))}):o.get.failure.error?Object(S.jsx)(p.a,{children:Object(S.jsxs)(p.f,{direction:"column",align:"center",children:[Object(S.jsx)(p.m,{spacing:"3",children:Object(S.jsx)(p.h,{as:"h1",size:"md",children:o.get.failure.message})}),Object(S.jsx)("br",{}),Object(S.jsx)(p.e,{}),Object(S.jsx)("br",{}),Object(S.jsx)(p.m,{spacing:"3",children:Object(S.jsx)(m.a,{onClick:function(){return i({products:a,shop:l})},children:"Try Again"})})]})}):o.get.success.data.length?Object(S.jsx)(p.j,{minChildWidth:"330px",spacing:"10px",children:o.get.success.data.map((function(e){return Object(S.jsx)(p.b,{py:8,children:Object(S.jsxs)(p.a,{role:"group",p:4,maxW:"330px",w:"full",boxShadow:"2xl",rounded:"lg",pos:"relative",zIndex:1,children:[Object(S.jsx)(p.a,{rounded:"lg",mt:-12,pos:"relative",height:"260px",_groupHover:{_after:{filter:"blur(20px)"}},children:Object(S.jsx)(N,{medias:e.images,height:260,width:282})}),Object(S.jsxs)(p.k,{pt:3,align:"center",children:[Object(S.jsx)(p.l,{color:"gray.500",fontSize:"sm",textTransform:"uppercase",children:e.variants&&e.variants.length?"".concat(e.variants.length," variants available"):null}),Object(S.jsx)(p.h,{textAlign:"center",fontSize:"2xl",fontFamily:"body",fontWeight:500,children:e.title}),Object(S.jsx)(p.i,{marginTop:"10px",href:"http://".concat(l,"/products/").concat(e.handle,"?app=shoplook&lookid=").concat(s),target:"_blank",width:"full",children:Object(S.jsx)(m.a,{isFullWidth:!0,rightIcon:Object(S.jsx)(y.e,{}),children:"View Product"})})]})]})},e.admin_graphql_api_id||e.id)}))}):null}),Object(S.jsx)(P.l,{children:Object(S.jsx)(m.a,{colorScheme:"blue",mr:3,onClick:c,children:"Close"})})]})]})})}),Be=function(e){var t=Object(x.d)("white","gray.800"),c=ee((function(e){return e.looks})),n=ee((function(e){return e.getLooks})),a=Object(r.useContext)(je),s=Object(f.c)(),o=s.isOpen,i=s.onOpen,l=s.onClose,j=Object(r.useState)([]),b=Object(O.a)(j,2),u=b[0],d=b[1],g=Object(r.useState)(!1),v=Object(O.a)(g,2),k=v[0],w=v[1],y=Object(r.useState)(""),C=Object(O.a)(y,2),I=C[0],z=C[1],T=se((function(e){return e.getViews}));se((function(e){return e.viewsState}));Object(r.useEffect)((function(){T({shop:a}),n({shop:a})}),[]);var L=function(){z(""),d([]),w(!1),l()};return Object(S.jsxs)(p.d,{maxW:"7xl",p:"12",children:[Object(S.jsx)(p.b,{children:Object(S.jsx)(p.h,{children:"Shop The Look"})}),Object(S.jsx)("br",{}),Object(S.jsx)(p.j,{minChildWidth:"330px",spacing:"10px",children:c.get.loading?[1,2,3].map((function(e,t){return Object(S.jsx)(p.b,{children:Object(S.jsx)(h.a,{width:"330px",height:"330px"})},t)})):c.get.failure.error?Object(S.jsx)(p.a,{children:Object(S.jsxs)(p.f,{direction:"column",align:"center",children:[Object(S.jsx)(p.m,{spacing:"3",children:Object(S.jsx)(p.h,{as:"h1",size:"md",children:c.get.failure.message})}),Object(S.jsx)("br",{}),Object(S.jsx)(p.e,{}),Object(S.jsx)("br",{}),Object(S.jsx)(p.m,{spacing:"3",children:Object(S.jsx)(m.a,{onClick:function(){return n({shop:a})},children:"Try Again"})})]})}):c.get.success.data.length?Object(S.jsxs)(S.Fragment,{children:[k?Object(S.jsx)(Re,{isOpen:o,onClose:L,lookId:I,productIds:u}):null,c.get.success.data.map((function(e){return Object(S.jsx)(p.b,{py:8,children:Object(S.jsxs)(p.a,{role:"group",p:4,maxW:"330px",w:"full",bg:t,boxShadow:"2xl",rounded:"lg",pos:"relative",zIndex:1,children:[Object(S.jsx)(p.a,{rounded:"lg",mt:-12,pos:"relative",height:"260px",_groupHover:{_after:{filter:"blur(20px)"}},children:Object(S.jsx)(N,{medias:e.medias,height:260,width:282})}),Object(S.jsxs)(p.k,{pt:3,align:"center",children:[Object(S.jsxs)(p.l,{color:"gray.500",fontSize:"sm",textTransform:"uppercase",children:[e.products.length," products in this look"]}),Object(S.jsx)(p.h,{fontSize:"2xl",fontFamily:"body",fontWeight:500,children:e.name}),Object(S.jsx)(m.a,{marginTop:"10px",onClick:function(){return function(e){var t=e.lookId,c=e.products;d(c),z(t),w(!0),i()}({lookId:e.id||e.objectId,products:e.products})},isFullWidth:!0,children:"Shop The Look"})]})]})},e.id||e.objectId)}))]}):void 0})]})},Ue=function(e){return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(d.d,{children:[Object(S.jsx)(d.b,{path:"/embed",element:Object(S.jsx)(Be,{})}),Object(S.jsx)(d.b,{path:"/settings",element:Object(S.jsx)(Fe,{})}),Object(S.jsx)(d.b,{path:"/looks",element:Object(S.jsx)(me,{})}),Object(S.jsx)(d.b,{path:"/looks/:id",element:Object(S.jsx)(Ae,{})}),Object(S.jsx)(d.b,{path:"/looks/create",element:Object(S.jsx)(Ae,{})}),Object(S.jsx)(d.b,{path:"/shopify",element:Object(S.jsx)(me,{})}),Object(S.jsx)(d.b,{path:"/shopify/callback",element:Object(S.jsx)(me,{})}),Object(S.jsx)(d.b,{path:"/authorize",element:Object(S.jsx)(xe,{})}),Object(S.jsx)(d.b,{path:"/",element:Object(S.jsx)(me,{})})]})})};j.a.initialize("shoplooks","shoplooks"),j.a.serverURL="https://shoplook.frangout.com/parse";var Me=u(window.location.search),Ve=Me.host,qe=Me.shop,Ne=void 0===qe?"":qe;Ve?s.a.render(Object(S.jsx)(n.a.StrictMode,{children:Object(S.jsx)(o.a,{children:Object(S.jsx)(i.a,{children:Object(S.jsx)(b.Provider,{config:{apiKey:"7e2581c77e3cf42a12f9a1ef624ad7ea",host:Ve,forceRedirect:!0},children:Object(S.jsx)(je.Provider,{value:Ne,children:Object(S.jsx)(Ue,{})})})})})}),document.getElementById("root")):s.a.render(Object(S.jsx)(n.a.StrictMode,{children:Object(S.jsx)(o.a,{children:Object(S.jsx)(i.a,{children:Object(S.jsx)(je.Provider,{value:Ne,children:Object(S.jsx)(Ue,{})})})})}),document.getElementById("root"))}},[[820,1,2]]]);
//# sourceMappingURL=main.585f3f11.chunk.js.map